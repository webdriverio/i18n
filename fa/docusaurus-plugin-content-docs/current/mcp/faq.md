---
id: faq
title: سوالات متداول
---

سوالات متداول درباره WebdriverIO MCP.

## عمومی

### MCP چیست؟

MCP (پروتکل زمینه مدل) یک پروتکل باز است که به دستیارهای هوش مصنوعی مانند Claude اجازه می‌دهد با ابزارها و سرویس‌های خارجی تعامل داشته باشند. WebdriverIO MCP این پروتکل را پیاده‌سازی می‌کند تا قابلیت‌های اتوماسیون مرورگر و موبایل را به Claude Desktop و Claude Code ارائه دهد.

### با WebdriverIO MCP چه چیزی را می‌توانم خودکارسازی کنم؟

شما می‌توانید اتوماسیون کنید:
-   **مرورگرهای دسکتاپ** (Chrome) - مرور، کلیک، تایپ، عکس‌برداری از صفحه
-   **برنامه‌های iOS** - روی شبیه‌سازها یا دستگاه‌های واقعی
-   **برنامه‌های اندروید** - روی شبیه‌سازها یا دستگاه‌های واقعی
-   **برنامه‌های هیبریدی** - جابجایی بین زمینه‌های بومی و وب

### آیا نیاز به نوشتن کد دارم؟

خیر! این مزیت اصلی MCP است. شما می‌توانید به زبان طبیعی توصیف کنید که چه می‌خواهید انجام دهید، و Claude از ابزارهای مناسب برای انجام آن وظیفه استفاده خواهد کرد.

**نمونه دستورات:**
-   "Chrome را باز کن و به webdriver.io برو"
-   "روی دکمه شروع کن کلیک کن"
-   "از صفحه فعلی عکس بگیر"
-   "برنامه iOS من را شروع کن و با کاربر آزمایشی وارد شو"

---

## نصب و راه‌اندازی

### چگونه WebdriverIO MCP را نصب کنم؟

نیازی به نصب جداگانه آن نیست. سرور MCP به طور خودکار از طریق npx اجرا می‌شود وقتی آن را در Claude Desktop یا Claude Code پیکربندی می‌کنید.

این را به پیکربندی Claude Desktop خود اضافه کنید:

```json
{
    "mcpServers": {
        "wdio-mcp": {
            "command": "npx",
            "args": ["-y", "@wdio/mcp"]
        }
    }
}
```

### فایل پیکربندی Claude Desktop کجاست؟

-   **macOS:** `~/Library/Application Support/Claude/claude_desktop_config.json`
-   **Windows:** `%APPDATA%\Claude\claude_desktop_config.json`

### آیا برای اتوماسیون مرورگر به Appium نیاز دارم؟

خیر. اتوماسیون مرورگر فقط نیاز به نصب Chrome دارد. WebdriverIO به طور خودکار ChromeDriver را مدیریت می‌کند.

### آیا برای اتوماسیون موبایل به Appium نیاز دارم؟

بله. اتوماسیون موبایل نیاز دارد به:
1. اجرای سرور Appium (`npm install -g appium && appium`)
2. درایورهای پلتفرم نصب شده (`appium driver install xcuitest` برای iOS، `appium driver install uiautomator2` برای اندروید)
3. ابزارهای توسعه مناسب (Xcode برای iOS، Android SDK برای اندروید)

---

## اتوماسیون مرورگر

### چه مرورگرهایی پشتیبانی می‌شوند؟

در حال حاضر، فقط **Chrome** پشتیبانی می‌شود. پشتیبانی از مرورگرهای دیگر ممکن است در نسخه‌های آینده اضافه شود.

### آیا می‌توانم Chrome را در حالت بی‌سر (headless) اجرا کنم؟

بله! از Claude بخواهید مرورگر را در حالت بی‌سر شروع کند:

"Chrome را در حالت بی‌سر شروع کن"

یا Claude این گزینه را در شرایط مناسب استفاده خواهد کرد (مثلاً در بسترهای CI/CD).

### آیا می‌توانم اندازه پنجره مرورگر را تنظیم کنم؟

بله. می‌توانید ابعاد را هنگام شروع مرورگر مشخص کنید:

"Chrome را با اندازه پنجره 1920x1080 شروع کن"

ابعاد پشتیبانی شده: 400-3840 پیکسل عرض، 400-2160 پیکسل ارتفاع. پیش‌فرض 1920x1080 است.

### آیا می‌توانم مرورگر را شروع کنم و در یک مرحله به سایت مورد نظر بروم؟

بله! از پارامتر `navigationUrl` استفاده کنید:

"Chrome را شروع کن و به https://webdriver.io برو"

این کار کارآمدتر از شروع مرورگر و سپس مرور جداگانه است.

### چگونه عکس صفحه بگیرم؟

به سادگی از Claude بخواهید:

"از صفحه فعلی عکس بگیر"

عکس‌های صفحه به طور خودکار بهینه می‌شوند:
- مقیاس‌بندی شده به حداکثر 2000px در هر بعد
- فشرده‌سازی شده به حداکثر 1MB اندازه فایل
- فرمت: PNG یا JPEG (به طور خودکار برای کیفیت بهینه انتخاب می‌شود)

### آیا می‌توانم با iframes تعامل داشته باشم؟

در حال حاضر، سرور MCP روی سند اصلی عمل می‌کند. تعامل با iframe ممکن است در نسخه‌های آینده اضافه شود.

### آیا می‌توانم جاوااسکریپت سفارشی اجرا کنم؟

بله! از ابزار `execute_script` استفاده کنید:

"اسکریپتی اجرا کن که عنوان صفحه را بگیرد"
"اسکریپت اجرا کن: return document.querySelectorAll('button').length"

---

## اتوماسیون موبایل

### چگونه یک برنامه iOS را شروع کنم؟

از Claude با جزئیات لازم بخواهید:

"برنامه iOS من را در مسیر /path/to/MyApp.app روی شبیه‌ساز iPhone 15 شروع کن"

یا برای برنامه‌ای که قبلاً نصب شده:

"برنامه را با فعال کردن noReset روی شبیه‌ساز iPhone 15 شروع کن"

### چگونه یک برنامه اندروید را شروع کنم؟

"برنامه اندروید من را در مسیر /path/to/app.apk روی شبیه‌ساز Pixel 7 شروع کن"

یا برای برنامه‌ای که قبلاً نصب شده:

"برنامه را با فعال کردن noReset روی شبیه‌ساز Pixel 7 شروع کن"

### آیا می‌توانم روی دستگاه‌های واقعی آزمایش کنم؟

بله! برای دستگاه‌های واقعی، به UDID دستگاه نیاز دارید:

-   **iOS:** دستگاه را متصل کنید، Finder را باز کنید، روی دستگاه کلیک کنید، روی شماره سریال کلیک کنید تا UDID نمایش داده شود
-   **Android:** دستور `adb devices` را در ترمینال اجرا کنید

سپس از Claude بخواهید:

"برنامه iOS من را روی دستگاه واقعی با UDID abc123... شروع کن"

### چگونه با دیالوگ‌های مجوز برخورد کنم؟

به طور پیش‌فرض، مجوزها به طور خودکار اعطا می‌شوند (`autoGrantPermissions: true`). اگر نیاز به آزمایش جریان‌های مجوز دارید، می‌توانید این را غیرفعال کنید:

"برنامه من را بدون اعطای خودکار مجوزها شروع کن"

### چه حرکاتی پشتیبانی می‌شوند؟

-   **ضربه (Tap):** ضربه زدن روی عناصر یا مختصات
-   **سوایپ (Swipe):** کشیدن به بالا، پایین، چپ یا راست
-   **کشیدن و رها کردن (Drag and Drop):** کشیدن از یک عنصر به عنصر دیگر یا به مختصات

نکته: `long_press` از طریق `execute_script` با دستورات موبایل Appium در دسترس است.

### چگونه در برنامه‌های موبایل اسکرول کنم؟

از حرکات سوایپ استفاده کنید:

"برای اسکرول به پایین، به بالا سوایپ کن"
"برای اسکرول به بالا، به پایین سوایپ کن"

### آیا می‌توانم دستگاه را بچرخانم؟

بله:

"دستگاه را به حالت افقی بچرخان"
"دستگاه را به حالت عمودی بچرخان"

### چگونه با برنامه‌های هیبریدی کار کنم؟

برای برنامه‌هایی با نمای وب (webviews)، می‌توانید بین زمینه‌ها جابجا شوید:

"زمینه‌های موجود را دریافت کن"
"به زمینه webview سوییچ کن"
"به زمینه بومی برگرد"

### آیا می‌توانم دستورات موبایل Appium را اجرا کنم؟

بله! از ابزار `execute_script` استفاده کنید:

```
Execute script "mobile: pressKey" with args [{ keycode: 4 }]  // فشردن دکمه بازگشت در اندروید
Execute script "mobile: activateApp" with args [{ appId: "com.example.app" }]
Execute script "mobile: terminateApp" with args [{ bundleId: "com.example.app" }]
```

---

## انتخاب عنصر

### Claude چگونه می‌داند با کدام عنصر تعامل کند؟

Claude از ابزار `get_visible_elements` برای شناسایی عناصر تعاملی در صفحه/صفحه نمایش استفاده می‌کند. هر عنصر با استراتژی‌های انتخابگر متعدد همراه است.

### اگر عناصر زیادی در صفحه وجود داشته باشند چه می‌شود؟

از صفحه‌بندی برای مدیریت لیست‌های بزرگ عناصر استفاده کنید:

"20 عنصر قابل مشاهده اول را بگیر"
"عناصر قابل مشاهده را با آفست 20 و محدودیت 20 بگیر"

پاسخ شامل `total`، `showing`، و `hasMore` است تا به شما در پیمایش عناصر کمک کند.

### آیا می‌توانم فقط انواع خاصی از عناصر را دریافت کنم؟

بله! از پارامتر `elementType` استفاده کنید:

-   `interactable` (پیش‌فرض): دکمه‌ها، لینک‌ها، ورودی‌ها
-   `visual`: تصاویر، SVG‌ها
-   `all`: هر دو نوع

"عناصر بصری قابل مشاهده در صفحه را دریافت کن"

### اگر Claude روی عنصر اشتباه کلیک کند چه کار کنم؟

می‌توانید دقیق‌تر باشید:

-   متن دقیق ارائه دهید: "روی دکمه‌ای که می‌گوید 'ثبت سفارش' کلیک کن"
-   انتخابگر ارائه دهید: "روی عنصر با انتخابگر #submit-btn کلیک کن"
-   شناسه دسترسی‌پذیری ارائه دهید: "روی عنصر با شناسه دسترسی‌پذیری loginButton کلیک کن"

### بهترین استراتژی انتخابگر برای موبایل چیست؟

1. **شناسه دسترسی‌پذیری** (بهترین) - `~loginButton`
2. **شناسه منبع** (اندروید) - `id=login_button`
3. **عبارت خبری** (iOS) - `-ios predicate string:label == "Login"`
4. **XPath** (آخرین چاره) - کندتر اما همه‌جا کار می‌کند

### درخت دسترسی‌پذیری چیست و چه زمانی باید از آن استفاده کنم؟

درخت دسترسی‌پذیری اطلاعات معنایی درباره عناصر صفحه (نقش‌ها، نام‌ها، وضعیت‌ها) ارائه می‌دهد. از `get_accessibility` در این مواقع استفاده کنید:
- وقتی `get_visible_elements` عناصر مورد انتظار را برنمی‌گرداند
- وقتی نیاز دارید عناصر را بر اساس نقش دسترسی‌پذیری (دکمه، لینک، جعبه متن و غیره) پیدا کنید
- وقتی به اطلاعات معنایی دقیق درباره عناصر نیاز دارید

"درخت دسترسی‌پذیری را فیلتر شده به نقش‌های دکمه و لینک دریافت کن"

---

## مدیریت جلسه

### آیا می‌توانم چندین جلسه همزمان داشته باشم؟

خیر. سرور MCP از مدل تک-جلسه استفاده می‌کند. فقط یک جلسه مرورگر یا برنامه می‌تواند در یک زمان فعال باشد.

### وقتی یک جلسه را می‌بندم چه اتفاقی می‌افتد؟

بسته به نوع جلسه و تنظیمات:

-   **مرورگر:** Chrome کاملاً بسته می‌شود
-   **موبایل با `noReset: false`:** برنامه خاتمه می‌یابد
-   **موبایل با `noReset: true` یا بدون `appPath`:** برنامه باز می‌ماند (جلسه به طور خودکار جدا می‌شود)

### آیا می‌توانم وضعیت برنامه را بین جلسات حفظ کنم؟

بله! از گزینه `noReset` استفاده کنید:

"برنامه من را با فعال کردن noReset شروع کن"

این وضعیت ورود، تنظیمات و سایر داده‌های برنامه را حفظ می‌کند.

### تفاوت بین بستن و جدا کردن چیست؟

-   **بستن:** مرورگر/برنامه را کاملاً خاتمه می‌دهد
-   **جدا کردن:** اتوماسیون را قطع می‌کند اما مرورگر/برنامه را در حال اجرا نگه می‌دارد

جدا کردن زمانی مفید است که می‌خواهید پس از اتوماسیون، وضعیت را به صورت دستی بررسی کنید.

### جلسه من در طول اشکال‌زدایی مرتباً به پایان می‌رسد

زمان انتظار دستور را افزایش دهید:

"برنامه من را با newCommandTimeout برابر 300 ثانیه شروع کن"

پیش‌فرض 60 ثانیه است. برای جلسات اشکال‌زدایی طولانی، 300-600 ثانیه را امتحان کنید.

---

## عیب‌یابی

### خطای "Session not found"

این به معنای این است که هیچ جلسه فعالی وجود ندارد. ابتدا یک جلسه مرورگر یا برنامه را شروع کنید:

"Chrome را شروع کن و به google.com برو"

### خطای "Element not found"

ممکن است عنصر قابل مشاهده نباشد یا انتخابگر متفاوتی داشته باشد. این موارد را امتحان کنید:

1. از Claude بخواهید ابتدا همه عناصر قابل مشاهده را دریافت کند
2. یک انتخابگر دقیق‌تر ارائه دهید
3. منتظر بارگذاری کامل صفحه/برنامه شوید
4. از `inViewportOnly: false` برای یافتن عناصر خارج از صفحه نمایش استفاده کنید

### مرورگر شروع نمی‌شود

1. مطمئن شوید Chrome نصب شده است
2. بررسی کنید که آیا فرآیند دیگری از پورت اشکال‌زدایی (9222) استفاده می‌کند
3. حالت بی‌سر (headless) را امتحان کنید

### اتصال Appium ناموفق بود

این رایج‌ترین مشکل هنگام شروع اتوماسیون موبایل است.

1. **تأیید کنید Appium در حال اجراست**: `curl http://localhost:4723/status`
2. در صورت نیاز Appium را شروع کنید: `appium`
3. بررسی کنید که پیکربندی URL Appium شما با سرور مطابقت دارد
4. اطمینان حاصل کنید که درایورها نصب شده‌اند: `appium driver list --installed`

:::tip
سرور MCP نیاز دارد که Appium قبل از شروع جلسات موبایل در حال اجرا باشد. مطمئن شوید ابتدا Appium را شروع می‌کنید:
```sh
appium
```
نسخه‌های آینده ممکن است شامل مدیریت خودکار سرویس Appium باشند.
:::

### شبیه‌ساز iOS شروع نمی‌شود

1. مطمئن شوید Xcode نصب شده است: `xcode-select --install`
2. شبیه‌سازهای موجود را فهرست کنید: `xcrun simctl list devices`
3. برای خطاهای خاص شبیه‌ساز در Console.app بررسی کنید

### شبیه‌ساز اندروید شروع نمی‌شود

1. `ANDROID_HOME` را تنظیم کنید: `export ANDROID_HOME=$HOME/Library/Android/sdk`
2. شبیه‌سازها را بررسی کنید: `emulator -list-avds`
3. شبیه‌ساز را به صورت دستی شروع کنید: `emulator -avd <avd-name>`
4. تأیید کنید دستگاه متصل است: `adb devices`

### عکس‌های صفحه کار نمی‌کنند

1. برای موبایل، مطمئن شوید جلسه فعال است
2. برای مرورگر، صفحه متفاوتی را امتحان کنید (برخی صفحات عکس‌برداری را مسدود می‌کنند)
3. برای خطاها در گزارش‌های Claude Desktop بررسی کنید

عکس‌های صفحه به طور خودکار به حداکثر 1MB فشرده می‌شوند، بنابراین عکس‌های بزرگ کار می‌کنند اما ممکن است کیفیت پایین‌تری داشته باشند.

---

## عملکرد

### چرا اتوماسیون موبایل کند است؟

اتوماسیون موبایل شامل:
1. ارتباط شبکه‌ای با سرور Appium
2. ارتباط Appium با دستگاه/شبیه‌ساز
3. رندر و پاسخ دستگاه

نکات برای اتوماسیون سریع‌تر:
-   از شبیه‌سازها به جای دستگاه‌های واقعی برای توسعه استفاده کنید
-   از شناسه‌های دسترسی‌پذیری به جای XPath استفاده کنید
-   `inViewportOnly: true` را فعال کنید برای تشخیص عنصر
-   از صفحه‌بندی (`limit`) برای کاهش استفاده از توکن استفاده کنید

### چگونه می‌توانم تشخیص عنصر را تسریع کنم؟

سرور MCP از قبل تشخیص عنصر را با استفاده از تجزیه و تحلیل منبع صفحه XML بهینه می‌کند (2 فراخوانی HTTP در مقابل 600+ برای پرس‌وجوهای عنصر سنتی). نکات اضافی:

-   `inViewportOnly: true` را فعال نگه دارید (پیش‌فرض)
-   `includeContainers: false` را تنظیم کنید (پیش‌فرض)
-   از `limit` و `offset` برای صفحه‌بندی در صفحه‌های بزرگ استفاده کنید
-   از انتخابگرهای خاص به جای یافتن تمام عناصر استفاده کنید

### عکس‌های صفحه کند هستند یا شکست می‌خورند

عکس‌های صفحه به طور خودکار بهینه می‌شوند:
- اگر بزرگتر از 2000px باشند، تغییر اندازه می‌یابند
- برای ماندن زیر 1MB فشرده می‌شوند
- اگر PNG خیلی بزرگ باشد، به JPEG تبدیل می‌شوند

این بهینه‌سازی زمان پردازش را کاهش می‌دهد و اطمینان می‌دهد که Claude می‌تواند تصویر را مدیریت کند.

---

## محدودیت‌ها

### محدودیت‌های فعلی چیست؟

-   **جلسه واحد:** فقط یک مرورگر/برنامه در یک زمان
-   **پشتیبانی مرورگر:** فقط Chrome (فعلاً)
-   **پشتیبانی iframe:** پشتیبانی محدود از iframes
-   **آپلود فایل:** مستقیماً از طریق ابزارها پشتیبانی نمی‌شود
-   **صوت/تصویر:** نمی‌تواند با پخش رسانه تعامل داشته باشد
-   **افزونه‌های مرورگر:** پشتیبانی نمی‌شوند

### آیا می‌توانم از این برای آزمایش تولید استفاده کنم؟

WebdriverIO MCP برای اتوماسیون تعاملی با کمک هوش مصنوعی طراحی شده است. برای آزمایش تولید CI/CD، استفاده از اجراکننده آزمون سنتی WebdriverIO با کنترل کامل برنامه‌ای را در نظر بگیرید.

---

## امنیت

### آیا داده‌های من امن هستند؟

سرور MCP به صورت محلی روی دستگاه شما اجرا می‌شود. تمام اتوماسیون از طریق اتصالات محلی مرورگر/Appium انجام می‌شود. هیچ داده‌ای به سرورهای خارجی فراتر از آنچه به صراحت به آن مرور می‌کنید، ارسال نمی‌شود.

### آیا Claude می‌تواند به رمزهای عبور من دسترسی پیدا کند؟

Claude می‌تواند محتوای صفحه را ببیند و با عناصر تعامل کند، اما:
-   رمزهای عبور در فیلدهای `<input type="password">` پوشیده شده‌اند
-   شما باید از اتوماسیون اعتبارنامه‌های حساس خودداری کنید
-   از حساب‌های آزمایشی برای اتوماسیون استفاده کنید

---

## مشارکت

### چگونه می‌توانم مشارکت کنم؟

از [مخزن GitHub](https://github.com/webdriverio/mcp) بازدید کنید تا:
-   اشکالات را گزارش دهید
-   درخواست ویژگی‌ها کنید
-   درخواست‌های pull ارسال کنید

### کجا می‌توانم کمک دریافت کنم؟

-   [WebdriverIO Discord](https://discord.webdriver.io/)
-   [GitHub Issues](https://github.com/webdriverio/mcp/issues)
-   [مستندات WebdriverIO](https://webdriver.io/)