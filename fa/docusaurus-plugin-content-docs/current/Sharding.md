---
id: sharding
title: ุดุงุฑุฏูฺฏ
---

ุจู ุทูุฑ ูพุดโูุฑุถุ WebdriverIO ุชุณุชโูุง ุฑุง ุจู ุตูุฑุช ููุงุฒ ุงุฌุฑุง ูโฺฉูุฏ ู ุจุฑุง ุงุณุชูุงุฏู ุจููู ุงุฒ ูุณุชูโูุง CPU ุฑู ุฏุณุชฺฏุงู ุดูุง ุชูุงุด ูโฺฉูุฏ. ุจุฑุง ุฏุณุชุงุจ ุจู ููุงุฒโุณุงุฒ ุจุดุชุฑุ ูโุชูุงูุฏ ุงุฌุฑุง ุชุณุช WebdriverIO ุฑุง ุจุง ุงุฌุฑุง ููุฒูุงู ุชุณุชโูุง ุฑู ฺูุฏู ูุงุดู ููุงุณโูพุฐุฑ ฺฉูุฏ. ูุง ุงู ุญุงูุช ุนููุงุช ุฑุง "ุดุงุฑุฏูฺฏ" ูโูุงูู.

## ุดุงุฑุฏูฺฏ ุชุณุชโูุง ุจู ฺูุฏู ูุงุดู

ุจุฑุง ุดุงุฑุฏ ฺฉุฑุฏู ูุฌููุนู ุชุณุชุ `--shard=x/y` ุฑุง ุจู ุฎุท ูุฑูุงู ุงุฑุณุงู ฺฉูุฏ. ุจู ุนููุงู ูุซุงูุ ุจุฑุง ุชูุณู ูุฌููุนู ุจู ฺูุงุฑ ุดุงุฑุฏุ ฺฉู ูุฑ ฺฉุฏุงู ฺฉ ฺูุงุฑู ุชุณุชโูุง ุฑุง ุงุฌุฑุง ูโฺฉููุฏ:

```sh
npx wdio run wdio.conf.js --shard=1/4
npx wdio run wdio.conf.js --shard=2/4
npx wdio run wdio.conf.js --shard=3/4
npx wdio run wdio.conf.js --shard=4/4
```

ุญุงูุ ุงฺฏุฑ ุงู ุดุงุฑุฏูุง ุฑุง ุจู ุทูุฑ ููุงุฒ ุฑู ฺฉุงููพูุชุฑูุง ูุฎุชูู ุงุฌุฑุง ฺฉูุฏุ ูุฌููุนู ุชุณุช ุดูุง ฺูุงุฑ ุจุฑุงุจุฑ ุณุฑุนโุชุฑ ุชฺฉูู ูโุดูุฏ.

## ูุซุงู GitHub Actions

GitHub Actions ุงุฒ [ุดุงุฑุฏ ฺฉุฑุฏู ุชุณุชโูุง ุจู ฺูุฏู ฺฉุงุฑ](https://docs.github.com/en/actions/using-jobs/using-a-matrix-for-your-jobs) ุจุง ุงุณุชูุงุฏู ุงุฒ ฺฏุฒูู [`jobs.<job_id>.strategy.matrix`](https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idstrategymatrix) ูพุดุชุจุงู ูโฺฉูุฏ. ฺฏุฒูู ูุงุชุฑุณ ฺฉ ฺฉุงุฑ ุฌุฏุงฺฏุงูู ุจุฑุง ูุฑ ุชุฑฺฉุจ ููฺฉู ุงุฒ ฺฏุฒููโูุง ุงุฑุงุฆู ุดุฏู ุงุฌุฑุง ูโฺฉูุฏ.

ูุซุงู ุฒุฑ ูุญูู ูพฺฉุฑุจูุฏ ฺฉ ฺฉุงุฑ ุจุฑุง ุงุฌุฑุง ุชุณุชโูุง ุฑู ฺูุงุฑ ูุงุดู ุจู ุตูุฑุช ููุงุฒ ุฑุง ูุดุงู ูโุฏูุฏ. ูโุชูุงูุฏ ฺฉู ุชูุธูุงุช ูพุงูพูุงู ุฑุง ุฏุฑ ูพุฑูฺู [Cucumber Boilerplate](https://github.com/webdriverio/cucumber-boilerplate/blob/main/.github/workflows/test.yaml) ูุดุงูุฏู ฺฉูุฏ.

-   ุงุจุชุฏุง ฺฉ ฺฏุฒูู ูุงุชุฑุณ ุจู ูพฺฉุฑุจูุฏ ฺฉุงุฑ ุฎูุฏ ุจุง ฺฏุฒูู ุดุงุฑุฏ ฺฉู ุญุงู ุชุนุฏุงุฏ ุดุงุฑุฏูุง ุงุณุช ฺฉู ูโุฎูุงูู ุงุฌุงุฏ ฺฉููุ ุงุถุงูู ูโฺฉูู. `shard: [1, 2, 3, 4]` ฺูุงุฑ ุดุงุฑุฏ ุงุฌุงุฏ ูโฺฉูุฏุ ูุฑ ฺฉุฏุงู ุจุง ุดูุงุฑู ุดุงุฑุฏ ูุชูุงูุช.
-   ุณูพุณ ุชุณุชโูุง WebdriverIO ุฎูุฏ ุฑุง ุจุง ฺฏุฒูู `--shard ${{ matrix.shard }}/${{ strategy.job-total }}` ุงุฌุฑุง ูโฺฉูู. ุงู ุฏุณุชูุฑ ุชุณุช ูุง ุจุฑุง ูุฑ ุดุงุฑุฏ ุฎูุงูุฏ ุจูุฏ.
-   ุฏุฑ ููุงุชุ ฺฏุฒุงุฑุด ูุงฺฏ wdio ุฎูุฏ ุฑุง ุจู ุขุฑุชูฺฉุชโูุง GitHub Actions ุขูพููุฏ ูโฺฉูู. ุงู ฺฉุงุฑ ูุงฺฏโูุง ุฑุง ุฏุฑ ุตูุฑุช ุดฺฉุณุช ุดุงุฑุฏ ุฏุฑ ุฏุณุชุฑุณ ูุฑุงุฑ ูโุฏูุฏ.

ูพุงูพูุงู ุชุณุช ุจู ุดุฑุญ ุฒุฑ ุชุนุฑู ุดุฏู ุงุณุช:

```yaml title=.github/workflows/test.yaml
name: Test

on: [push, pull_request]

jobs:
    lint:
        # ...
    unit:
        # ...
    e2e:
        name: ๐งช Test (${{ matrix.shard }}/${{ strategy.job-total }})
        runs-on: ubuntu-latest
        needs: [lint, unit]
        strategy:
            matrix:
                shard: [1, 2, 3, 4]
        steps:
            - uses: actions/checkout@v4
            - uses: ./.github/workflows/actions/setup
            - name: E2E Test
              run: npm run test:features -- --shard ${{ matrix.shard }}/${{ strategy.job-total }}
            - uses: actions/upload-artifact@v1
              if: failure()
              with:
                  name: logs-${{ matrix.shard }}
                  path: logs
```

ุงู ฺฉุงุฑ ุชูุงู ุดุงุฑุฏูุง ุฑุง ุจู ุทูุฑ ููุงุฒ ุงุฌุฑุง ูโฺฉูุฏ ู ุฒูุงู ุงุฌุฑุง ุชุณุชโูุง ุฑุง ุจู ูุฒุงู ด ุจุฑุงุจุฑ ฺฉุงูุด ูโุฏูุฏ:

![ูุซุงู GitHub Actions](/img/sharding.png "ูุซุงู GitHub Actions")

ฺฉุงูุช [`96d444e`](https://github.com/webdriverio/cucumber-boilerplate/commit/96d444ea23919389682b9b1c9408ed91c452c7f8) ุงุฒ ูพุฑูฺู [Cucumber Boilerplate](https://github.com/webdriverio/cucumber-boilerplate) ุฑุง ุจุจูุฏ ฺฉู ุดุงุฑุฏูฺฏ ุฑุง ุจู ูพุงูพูุงู ุชุณุช ุฎูุฏ ูุนุฑู ฺฉุฑุฏู ุงุณุช ู ุจู ฺฉุงูุด ุฒูุงู ฺฉู ุงุฌุฑุง ุงุฒ `2:23 ุฏููู` ุจู `1:30 ุฏููู`ุ ุนู ฺฉุงูุด __37%__ ฺฉูฺฉ ฺฉุฑุฏู ุงุณุช ๐.