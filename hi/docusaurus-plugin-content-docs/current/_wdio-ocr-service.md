---
id: wdio-ocr-service
title: OCR рдкрд░реАрдХреНрд╖рдг рд╕реЗрд╡рд╛
custom_edit_url: https://github.com/webdriverio/visual-testing/edit/main/README.md
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

> @wdio/ocr-service рдПрдХ рддреАрд╕рд░реЗ рдкрдХреНрд╖ рдХрд╛ рдкреИрдХреЗрдЬ рд╣реИ, рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП рдХреГрдкрдпрд╛ [GitHub](https://github.com/webdriverio/visual-testing) | [npm](https://www.npmjs.com/package/@wdio/ocr-service) рджреЗрдЦреЗрдВ

WebdriverIO рдХреЗ рд╕рд╛рде рджреГрд╢реНрдп рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдХреЗ рд▓рд┐рдП, рдХреГрдкрдпрд╛ [рдбреЙрдХреНрд╕](https://webdriver.io/docs/visual-testing) рджреЗрдЦреЗрдВред рдЗрд╕ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ WebdriverIO рдХреЗ рд╕рд╛рде рджреГрд╢реНрдп рдкрд░реАрдХреНрд╖рдг рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рд╕рднреА рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рдореЙрдбреНрдпреВрд▓ рд╢рд╛рдорд┐рд▓ рд╣реИрдВред `./packages` рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЗ рдЕрдВрджрд░ рдЖрдкрдХреЛ рдорд┐рд▓реЗрдВрдЧреЗ:

-   `@wdio/visual-testing`: рджреГрд╢реНрдп рдкрд░реАрдХреНрд╖рдг рдХреЛ рдПрдХреАрдХреГрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП WebdriverIO рд╕реЗрд╡рд╛
-   `webdriver-image-comparison`: рдПрдХ рдЫрд╡рд┐ рддреБрд▓рдирд╛ рдореЙрдбреНрдпреВрд▓ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рд╡рд┐рднрд┐рдиреНрди NodeJS рдЯреЗрд╕реНрдЯ рдСрдЯреЛрдореЗрд╢рди рдлреНрд░реЗрдорд╡рд░реНрдХ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдЬреЛ WebDriver рдкреНрд░реЛрдЯреЛрдХреЙрд▓ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддреЗ рд╣реИрдВ

## рд╕реНрдЯреЛрд░реАрдмреБрдХ рд░рдирд░ (рдмреАрдЯрд╛)

<details>
  <summary>рд╕реНрдЯреЛрд░реАрдмреБрдХ рд░рдирд░ рдмреАрдЯрд╛ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдкреНрд░рд╛рдкреНрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ</summary>

> рд╕реНрдЯреЛрд░реАрдмреБрдХ рд░рдирд░ рдЕрднреА рднреА рдмреАрдЯрд╛ рдореЗрдВ рд╣реИ, рдбреЙрдХреНрд╕ рдмрд╛рдж рдореЗрдВ [WebdriverIO](https://webdriver.io/docs/visual-testing) рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдкреГрд╖реНрдареЛрдВ рдкрд░ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рд╣реЛ рдЬрд╛рдПрдВрдЧреЗред

рдпрд╣ рдореЙрдбреНрдпреВрд▓ рдЕрдм рдПрдХ рдирдП рд╡рд┐рдЬреБрдЕрд▓ рд░рдирд░ рдХреЗ рд╕рд╛рде рд╕реНрдЯреЛрд░реАрдмреБрдХ рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИред рдпрд╣ рд░рдирд░ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдПрдХ рд╕реНрдерд╛рдиреАрдп/рд░рд┐рдореЛрдЯ рд╕реНрдЯреЛрд░реАрдмреБрдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреЗ рд▓рд┐рдП рд╕реНрдХреИрди рдХрд░рддрд╛ рд╣реИ рдФрд░ рдкреНрд░рддреНрдпреЗрдХ рдХрдВрдкреЛрдиреЗрдВрдЯ рдХреЗ рддрддреНрд╡ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдмрдирд╛рдПрдЧрд╛ред рдпрд╣ рдирд┐рдореНрди рдХреЛ рдЬреЛрдбрд╝рдХрд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ

```ts
export const config: WebdriverIO.Config = {
    // ...
    services: ["visual"],
    // ....
};
```

рдЕрдкрдиреА `services` рдореЗрдВ рдФрд░ `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook` рдХреЛ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЪрд▓рд╛рдХрд░ред
рдпрд╣ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдХреЗ рд░реВрдк рдореЗрдВ рд╣реЗрдбрд▓реЗрд╕ рдореЛрдб рдореЗрдВ Chrome рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛ред

> [!NOTE]
>
> -   рдЕрдзрд┐рдХрд╛рдВрд╢ рд╡рд┐рдЬреБрдЕрд▓ рдЯреЗрд╕реНрдЯрд┐рдВрдЧ рд╡рд┐рдХрд▓реНрдк рд╕реНрдЯреЛрд░реАрдмреБрдХ рд░рдирд░ рдХреЗ рд▓рд┐рдП рднреА рдХрд╛рдо рдХрд░реЗрдВрдЧреЗ, рджреЗрдЦреЗрдВ [WebdriverIO](https://webdriver.io/docs/visual-testing) рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдгред
> -   рд╕реНрдЯреЛрд░реАрдмреБрдХ рд░рдирд░ рдЖрдкрдХреА рд╕рднреА рдХреНрд╖рдорддрд╛рдУрдВ рдХреЛ рдУрд╡рд░рд░рд╛рдЗрдЯ рдХрд░реЗрдЧрд╛ рдФрд░ рдХреЗрд╡рд▓ рдЙрди рдмреНрд░рд╛рдЙрдЬрд╝рд░реЛрдВ рдкрд░ рдЪрд▓ рд╕рдХрддрд╛ рд╣реИ рдЬрд┐рдирдХрд╛ рд╡рд╣ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рджреЗрдЦреЗрдВ [`--browsers`](#browsers)ред
> -   рд╕реНрдЯреЛрд░реАрдмреБрдХ рд░рдирд░ рдорд▓реНрдЯреАрд░рд┐рдореЛрдЯ рдХреНрд╖рдорддрд╛рдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рд╡рд╛рд▓реЗ рдореМрдЬреВрджрд╛ рдХреЙрдиреНрдлрд┐рдЧ рдХрд╛ рд╕рдорд░реНрдерди рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдПрдХ рддреНрд░реБрдЯрд┐ рдлреЗрдВрдХреЗрдЧрд╛ред
> -   рд╕реНрдЯреЛрд░реАрдмреБрдХ рд░рдирд░ рдХреЗрд╡рд▓ рдбреЗрд╕реНрдХрдЯреЙрдк рд╡реЗрдм рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ, рдореЛрдмрд╛рдЗрд▓ рд╡реЗрдм рдХрд╛ рдирд╣реАрдВред

### рд╕реНрдЯреЛрд░реАрдмреБрдХ рд░рдирд░ рд╕реЗрд╡рд╛ рд╡рд┐рдХрд▓реНрдк

рд╕реЗрд╡рд╛ рд╡рд┐рдХрд▓реНрдк рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдкреНрд░рджрд╛рди рдХрд┐рдП рдЬрд╛ рд╕рдХрддреЗ рд╣реИрдВ

```ts
export const config: WebdriverIO.Config  = {
    // ...
    services: [
      [
        'visual',
        {
            // Some default options
            baselineFolder: join(process.cwd(), './__snapshots__/'),
            debug: true,
            // The storybook options, see cli options for the description
            storybook: {
                additionalSearchParams: new URLSearchParams({foo: 'bar', abc: 'def'}),
                clip: false,
                clipSelector: ''#some-id,
                numShards: 4,
                // `skipStories` can be a string ('example-button--secondary'),
                // an array (['example-button--secondary', 'example-button--small'])
                // or a regex which needs to be provided as as string ("/.*button.*/gm")
                skipStories: ['example-button--secondary', 'example-button--small'],
                url: 'https://www.bbc.co.uk/iplayer/storybook/',
                version: 6,
                // Optional - Allows overriding the baselines path. By default it will group the baselines by category and component (e.g. forms/input/baseline.png)
                getStoriesBaselinePath: (category, component) => `path__${category}__${component}`,
            },
        },
      ],
    ],
    // ....
}
```

### рд╕реНрдЯреЛрд░реАрдмреБрдХ рд░рдирд░ CLI рд╡рд┐рдХрд▓реНрдк

#### `--additionalSearchParams`

-   **рдкреНрд░рдХрд╛рд░:** `string`
-   **рдЕрдирд┐рд╡рд╛рд░реНрдп:** рдирд╣реАрдВ
-   **рдбрд┐рдлрд╝реЙрд▓реНрдЯ:** ''
-   **рдЙрджрд╛рд╣рд░рдг:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --additionalSearchParams="foo=bar&abc=def"`

рдпрд╣ рд╕реНрдЯреЛрд░реАрдмреБрдХ URL рдореЗрдВ рдЕрддрд┐рд░рд┐рдХреНрдд рдЦреЛрдЬ рдкреИрд░рд╛рдореАрдЯрд░ рдЬреЛрдбрд╝реЗрдЧрд╛ред
рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП [URLSearchParams](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams) рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рджреЗрдЦреЗрдВред рд╕реНрдЯреНрд░рд┐рдВрдЧ рдПрдХ рд╡реИрдз URLSearchParams рд╕реНрдЯреНрд░рд┐рдВрдЧ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред

> [!NOTE]
> рдбрдмрд▓ рдХреЛрдЯреНрд╕ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ рддрд╛рдХрд┐ `&` рдХреЛ рдХрдорд╛рдВрдб рд╕реЗрдкрд░реЗрдЯрд░ рдХреЗ рд░реВрдк рдореЗрдВ рд╡реНрдпрд╛рдЦреНрдпрд╛ рдХрд░рдиреЗ рд╕реЗ рд░реЛрдХрд╛ рдЬрд╛ рд╕рдХреЗред
> рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП `--additionalSearchParams="foo=bar&abc=def"` рдХреЗ рд╕рд╛рде рдпрд╣ рд╕реНрдЯреЛрд░реА рдЯреЗрд╕реНрдЯ рдХреЗ рд▓рд┐рдП рдирд┐рдореНрди рд╕реНрдЯреЛрд░реАрдмреБрдХ URL рдЬрдирд░реЗрдЯ рдХрд░реЗрдЧрд╛: `http://storybook.url/iframe.html?id=story-id&foo=bar&abc=def`ред

#### `--browsers`

-   **рдкреНрд░рдХрд╛рд░:** `string`
-   **рдЕрдирд┐рд╡рд╛рд░реНрдп:** рдирд╣реАрдВ
-   **рдбрд┐рдлрд╝реЙрд▓реНрдЯ:** `chrome`, рдЖрдк `chrome|firefox|edge|safari` рд╕реЗ рдЪреБрди рд╕рдХрддреЗ рд╣реИрдВ
-   **рдЙрджрд╛рд╣рд░рдг:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --browsers=chrome,firefox,edge,safari`
-   **рдиреЛрдЯ:** рдХреЗрд╡рд▓ CLI рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдкрд▓рдмреНрдз рд╣реИ

рдпрд╣ рдХрдВрдкреЛрдиреЗрдВрдЯ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рд▓реЗрдиреЗ рдХреЗ рд▓рд┐рдП рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП рдмреНрд░рд╛рдЙрдЬрд╝рд░реЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛

> [!NOTE]
> рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдиреЗ рдЕрдкрдиреЗ рд╕реНрдерд╛рдиреАрдп рдорд╢реАрди рдкрд░ рдЙрди рдмреНрд░рд╛рдЙрдЬрд╝рд░реЛрдВ рдХреЛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд┐рдпрд╛ рд╣реИ рдЬрд┐рди рдкрд░ рдЖрдк рдЪрд▓рд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ

#### `--clip`

-   **рдкреНрд░рдХрд╛рд░:** `boolean`
-   **рдЕрдирд┐рд╡рд╛рд░реНрдп:** рдирд╣реАрдВ
-   **рдбрд┐рдлрд╝реЙрд▓реНрдЯ:** `true`
-   **рдЙрджрд╛рд╣рд░рдг:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --clip=false`

рдЬрдм рдЕрдХреНрд╖рдо рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддреЛ рдпрд╣ рд╡реНрдпреВрдкреЛрд░реНрдЯ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдмрдирд╛рдПрдЧрд╛ред рдЬрдм рд╕рдХреНрд╖рдо рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ рддреЛ рдпрд╣ [`--clipSelector`](#clipselector) рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рддрддреНрд╡ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдмрдирд╛рдПрдЧрд╛ рдЬреЛ рдХрдВрдкреЛрдиреЗрдВрдЯ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рдЦрд╛рд▓реА рд╕реНрдерд╛рди рдХреА рдорд╛рддреНрд░рд╛ рдХреЛ рдХрдо рдХрд░реЗрдЧрд╛ рдФрд░ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рдЖрдХрд╛рд░ рдХреЛ рдХрдо рдХрд░реЗрдЧрд╛ред

#### `--clipSelector`

-   **рдкреНрд░рдХрд╛рд░:** `string`
-   **рдЕрдирд┐рд╡рд╛рд░реНрдп:** рдирд╣реАрдВ
-   **рдбрд┐рдлрд╝реЙрд▓реНрдЯ:** рд╕реНрдЯреЛрд░реАрдмреБрдХ V7 рдХреЗ рд▓рд┐рдП `#storybook-root > :first-child` рдФрд░ рд╕реНрдЯреЛрд░реАрдмреБрдХ V6 рдХреЗ рд▓рд┐рдП `#root > :first-child:not(script):not(style)`, рджреЗрдЦреЗрдВ [`--version`](#version)
-   **рдЙрджрд╛рд╣рд░рдг:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --clipSelector="#some-id"`

рдпрд╣ рд╡рд╣ рд╕реЗрд▓реЗрдХреНрдЯрд░ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛:

-   рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рд▓реЗрдиреЗ рдХреЗ рд▓рд┐рдП рддрддреНрд╡ рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП
-   рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рд▓реЗрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рджреГрд╢реНрдпрдорд╛рди рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рддрддреНрд╡ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП

#### `--devices`

-   **рдкреНрд░рдХрд╛рд░:** `string`
-   **рдЕрдирд┐рд╡рд╛рд░реНрдп:** рдирд╣реАрдВ
-   **рдбрд┐рдлрд╝реЙрд▓реНрдЯ:** рдЖрдк [`deviceDescriptors.ts`](https://github.com/webdriverio/visual-testing/blob/main/./packages/service/src/storybook/deviceDescriptors.ts) рд╕реЗ рдЪреБрди рд╕рдХрддреЗ рд╣реИрдВ
-   **рдЙрджрд╛рд╣рд░рдг:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --devices="iPhone 14 Pro Max","Pixel 3 XL"`
-   **рдиреЛрдЯ:** рдХреЗрд╡рд▓ CLI рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдкрд▓рдмреНрдз рд╣реИ

рдпрд╣ рдХрдВрдкреЛрдиреЗрдВрдЯ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рд▓реЗрдиреЗ рдХреЗ рд▓рд┐рдП [`deviceDescriptors.ts`](https://github.com/webdriverio/visual-testing/blob/main/./packages/service/src/storybook/deviceDescriptors.ts) рд╕реЗ рдореЗрд▓ рдЦрд╛рдиреЗ рд╡рд╛рд▓реЗ рдкреНрд░рджрд╛рди рдХрд┐рдП рдЧрдП рдЙрдкрдХрд░рдгреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдЧрд╛

> [!NOTE]
>
> -   рдпрджрд┐ рдЖрдкрдХреЛ рдПрдХ рдбрд┐рд╡рд╛рдЗрд╕ рдХреЙрдиреНрдлрд┐рдЧ рдХреА рдХрдореА рд╣реИ, рддреЛ [рдлреАрдЪрд░ рдЕрдиреБрд░реЛрдз](https://github.com/webdriverio/visual-testing/issues/new?assignees=&labels=&projects=&template=--feature-request.md) рд╕рдмрдорд┐рдЯ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрд╡рддрдВрддреНрд░ рдорд╣рд╕реВрд╕ рдХрд░реЗрдВ
> -   рдпрд╣ рдХреЗрд╡рд▓ Chrome рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░реЗрдЧрд╛:
>     -   рдпрджрд┐ рдЖрдк `--devices` рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ рддреЛ рд╕рднреА Chrome рдЗрдВрд╕реНрдЯреЗрдВрд╕ **рдореЛрдмрд╛рдЗрд▓ рдПрдореБрд▓реЗрд╢рди** рдореЛрдб рдореЗрдВ рдЪрд▓реЗрдВрдЧреЗ
>     -   рдпрджрд┐ рдЖрдк Chrome рдХреЗ рдЕрд▓рд╛рд╡рд╛ рдЕрдиреНрдп рдмреНрд░рд╛рдЙрдЬрд╝рд░ рднреА рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ `--devices --browsers=firefox,safari,edge` рддреЛ рдпрд╣ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдореЛрдмрд╛рдЗрд▓ рдПрдореБрд▓реЗрд╢рди рдореЛрдб рдореЗрдВ Chrome рдЬреЛрдбрд╝ рджреЗрдЧрд╛
> -   рд╕реНрдЯреЛрд░реАрдмреБрдХ рд░рдирд░ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рддрддреНрд╡ рд╕реНрдиреИрдкрд╢реЙрдЯ рдмрдирд╛рдПрдЧрд╛, рдпрджрд┐ рдЖрдк рдкреВрд░рд╛ рдореЛрдмрд╛рдЗрд▓ рдПрдореБрд▓реЗрдЯреЗрдб рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рджреЗрдЦрдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рддреЛ рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ `--clip=false` рдкреНрд░рджрд╛рди рдХрд░реЗрдВ
> -   рдлрд╝рд╛рдЗрд▓ рдирд╛рдо рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП `__snapshots__/example/button/desktop_chrome/example-button--large-local-chrome-iPhone-14-Pro-Max-430x932-dpr-3.png` рдЬреИрд╕рд╛ рджрд┐рдЦреЗрдЧрд╛
> -   **[SRC:](https://chromedriver.chromium.org/mobile-emulation#h.p_ID_167)** рдореЛрдмрд╛рдЗрд▓ рдПрдореБрд▓реЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдбреЗрд╕реНрдХрдЯреЙрдк рдкрд░ рдореЛрдмрд╛рдЗрд▓ рд╡реЗрдмрд╕рд╛рдЗрдЯ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдирд╛ рдЙрдкрдпреЛрдЧреА рд╣реЛ рд╕рдХрддрд╛ рд╣реИ, рд▓реЗрдХрд┐рди рдкрд░реАрдХреНрд╖рдХреЛрдВ рдХреЛ рдкрддрд╛ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП рдХрд┐ рдХрдИ рд╕реВрдХреНрд╖реНрдо рдЕрдВрддрд░ рд╣реИрдВ рдЬреИрд╕реЗ:
>     -   рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрд▓рдЧ GPU, рдЬреЛ рдмрдбрд╝реЗ рдкреНрд░рджрд░реНрд╢рди рдкрд░рд┐рд╡рд░реНрддрдиреЛрдВ рдХреА рдУрд░ рд▓реЗ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ;
>     -   рдореЛрдмрд╛рдЗрд▓ UI рдХрд╛ рдЕрдиреБрдХрд░рдг рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ (рд╡рд┐рд╢реЗрд╖ рд░реВрдк рд╕реЗ, рдЫрд┐рдкрд╛рдиреЗ рд╡рд╛рд▓рд╛ url рдмрд╛рд░ рдкреГрд╖реНрда рдКрдВрдЪрд╛рдИ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдХрд░рддрд╛ рд╣реИ);
>     -   рд╡рд┐рднреЗрджрди рдкреЙрдкрдЕрдк (рдЬрд╣рд╛рдВ рдЖрдк рдХреБрдЫ рдЯрдЪ рд▓рдХреНрд╖реНрдпреЛрдВ рдореЗрдВ рд╕реЗ рдПрдХ рдХрд╛ рдЪрдпрди рдХрд░рддреЗ рд╣реИрдВ) рд╕рдорд░реНрдерд┐рдд рдирд╣реАрдВ рд╣реИ;
>     -   рдХрдИ рд╣рд╛рд░реНрдбрд╡реЗрдпрд░ API (рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, orientationchange рдЗрд╡реЗрдВрдЯ) рдЕрдиреБрдкрд▓рдмреНрдз рд╣реИрдВред

#### `--headless`

-   **рдкреНрд░рдХрд╛рд░:** `boolean`
-   **рдЕрдирд┐рд╡рд╛рд░реНрдп:** рдирд╣реАрдВ
-   **рдбрд┐рдлрд╝реЙрд▓реНрдЯ:** `true`
-   **рдЙрджрд╛рд╣рд░рдг:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --headless=false`
-   **рдиреЛрдЯ:** рдХреЗрд╡рд▓ CLI рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЙрдкрд▓рдмреНрдз рд╣реИ

рдпрд╣ рдЯреЗрд╕реНрдЯ рдХреЛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ рд╣реЗрдбрд▓реЗрд╕ рдореЛрдб рдореЗрдВ рдЪрд▓рд╛рдПрдЧрд╛ (рдЬрдм рдмреНрд░рд╛рдЙрдЬрд╝рд░ рдЗрд╕рдХрд╛ рд╕рдорд░реНрдерди рдХрд░рддрд╛ рд╣реИ) рдпрд╛ рдЕрдХреНрд╖рдо рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ

#### `--numShards`

-   **рдкреНрд░рдХрд╛рд░:** `number`
-   **рдЕрдирд┐рд╡рд╛рд░реНрдп:** рдирд╣реАрдВ
-   **рдбрд┐рдлрд╝реЙрд▓реНрдЯ:** `true`
-   **рдЙрджрд╛рд╣рд░рдг:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --numShards=10`

рдпрд╣ рдЙрди рд╕рдорд╛рдирд╛рдВрддрд░ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреА рд╕рдВрдЦреНрдпрд╛ рд╣реЛрдЧреА рдЬрд┐рдирдХрд╛ рдЙрдкрдпреЛрдЧ рд╕реНрдЯреЛрд░реА рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред рдпрд╣ рдЖрдкрдХреЗ `wdio.conf`-рдлрд╝рд╛рдЗрд▓ рдореЗрдВ `maxInstances` рджреНрд╡рд╛рд░рд╛ рд╕реАрдорд┐рдд рд╣реЛрдЧрд╛ред

> [!IMPORTANT]
> `headless`-рдореЛрдб рдореЗрдВ рдЪрд▓рд╛рддреЗ рд╕рдордп рд╕рдВрдЦреНрдпрд╛ рдХреЛ 20 рд╕реЗ рдЕрдзрд┐рдХ рди рдмрдврд╝рд╛рдПрдВ рддрд╛рдХрд┐ рд╕рдВрд╕рд╛рдзрди рдкреНрд░рддрд┐рдмрдВрдзреЛрдВ рдХреЗ рдХрд╛рд░рдг рдЕрд╕реНрдерд┐рд░рддрд╛ рдХреЛ рд░реЛрдХрд╛ рдЬрд╛ рд╕рдХреЗ

#### `--skipStories`

-   **рдкреНрд░рдХрд╛рд░:** `string|regex`
-   **рдЕрдирд┐рд╡рд╛рд░реНрдп:** рдирд╣реАрдВ
-   **рдбрд┐рдлрд╝реЙрд▓реНрдЯ:** null
-   **рдЙрджрд╛рд╣рд░рдг:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --skipStories="/.*button.*/gm"`

рдпрд╣ рд╣реЛ рд╕рдХрддрд╛ рд╣реИ:

-   рдПрдХ рд╕реНрдЯреНрд░рд┐рдВрдЧ (`example-button--secondary,example-button--small`)
-   рдпрд╛ рдПрдХ рд░реЗрдЧреЗрдХреНрд╕ (`"/.*button.*/gm"`)

рдХреБрдЫ рд╕реНрдЯреЛрд░реА рдХреЛ рдЫреЛрдбрд╝рдиреЗ рдХреЗ рд▓рд┐рдПред рд╕реНрдЯреЛрд░реА рдХреА `id` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдЬреЛ рд╕реНрдЯреЛрд░реА рдХреЗ URL рдореЗрдВ рдкрд╛рдИ рдЬрд╛ рд╕рдХрддреА рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕ URL `http://localhost:6006/?path=/story/example-page--logged-out` рдореЗрдВ `id` `example-page--logged-out` рд╣реИ

#### `--url`

-   **рдкреНрд░рдХрд╛рд░:** `string`
-   **рдЕрдирд┐рд╡рд╛рд░реНрдп:** рдирд╣реАрдВ
-   **рдбрд┐рдлрд╝реЙрд▓реНрдЯ:** `http://127.0.0.1:6006`
-   **рдЙрджрд╛рд╣рд░рдг:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --url="https://example.com"`

рд╡рд╣ URL рдЬрд╣рд╛рдВ рдЖрдкрдХрд╛ рд╕реНрдЯреЛрд░реАрдмреБрдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рд╣реЛрд╕реНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред

#### `--version`

-   **рдкреНрд░рдХрд╛рд░:** `number`
-   **рдЕрдирд┐рд╡рд╛рд░реНрдп:** рдирд╣реАрдВ
-   **рдбрд┐рдлрд╝реЙрд▓реНрдЯ:** 7
-   **рдЙрджрд╛рд╣рд░рдг:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --version=6`

рдпрд╣ рд╕реНрдЯреЛрд░реАрдмреБрдХ рдХрд╛ рд╡рд░реНрд╢рди рд╣реИ, рдпрд╣ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ `7` рд╣реИред рдпрд╣ рдЬрд╛рдирдиреЗ рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рд╣реИ рдХрд┐ рдХреНрдпрд╛ V6 [`clipSelector`](#clipselector) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред

### рд╕реНрдЯреЛрд░реАрдмреБрдХ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдЯреЗрд╕реНрдЯрд┐рдВрдЧ

рд╕реНрдЯреЛрд░реАрдмреБрдХ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдЯреЗрд╕реНрдЯрд┐рдВрдЧ рдЖрдкрдХреЛ WDIO рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рдХрд╕реНрдЯрдо рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдмрдирд╛рдХрд░ рдЕрдкрдиреЗ рдХрдВрдкреЛрдиреЗрдВрдЯ рдХреЗ рд╕рд╛рде рдЗрдВрдЯрд░реИрдХреНрдЯ рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдПрдХ рдХрдВрдкреЛрдиреЗрдВрдЯ рдХреЛ рдПрдХ рдирд┐рд╢реНрдЪрд┐рдд рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд╕реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХреЗред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдиреАрдЪреЗ рджрд┐рдП рдЧрдП рдХреЛрдб рд╕реНрдирд┐рдкреЗрдЯ рджреЗрдЦреЗрдВ:

```ts
import { browser, expect } from "@wdio/globals";

describe("Storybook Interaction", () => {
    it("should create screenshots for the logged in state when it logs out", async () => {
        const componentId = "example-page--logged-in";
        await browser.waitForStorybookComponentToBeLoaded({ id: componentId });

        await expect($("header")).toMatchElementSnapshot(
            `${componentId}-logged-in-state`
        );
        await $("button=Log out").click();
        await expect($("header")).toMatchElementSnapshot(
            `${componentId}-logged-out-state`
        );
    });

    it("should create screenshots for the logged out state when it logs in", async () => {
        const componentId = "example-page--logged-out";
        await browser.waitForStorybookComponentToBeLoaded({ id: componentId });

        await expect($("header")).toMatchElementSnapshot(
            `${componentId}-logged-out-state`
        );
        await $("button=Log in").click();
        await expect($("header")).toMatchElementSnapshot(
            `${componentId}-logged-in-state`
        );
    });
});
```

рджреЛ рдЕрд▓рдЧ-рдЕрд▓рдЧ рдХрдВрдкреЛрдиреЗрдВрдЯ рдкрд░ рджреЛ рдкрд░реАрдХреНрд╖рдг рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд┐рдП рдЬрд╛рддреЗ рд╣реИрдВред рдкреНрд░рддреНрдпреЗрдХ рдкрд░реАрдХреНрд╖рдг рдкрд╣рд▓реЗ рдПрдХ рд╕реНрдерд┐рддрд┐ рд╕реЗрдЯ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдлрд┐рд░ рдПрдХ рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рд▓реЗрддрд╛ рд╣реИред рдЖрдк рдпрд╣ рднреА рджреЗрдЦреЗрдВрдЧреЗ рдХрд┐ рдПрдХ рдирдпрд╛ рдХрд╕реНрдЯрдо рдХрдорд╛рдВрдб рдкреЗрд╢ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬрд┐рд╕реЗ [рдпрд╣рд╛рдВ](#new-custom-command) рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

рдЙрдкрд░реЛрдХреНрдд рд╕реНрдкреЗрдХ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдПрдХ рдлрд╝реЛрд▓реНрдбрд░ рдореЗрдВ рд╕рд╣реЗрдЬрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдирд┐рдореНрди рдХрдорд╛рдВрдб рдХреЗ рд╕рд╛рде рдХрдорд╛рдВрдб рд▓рд╛рдЗрди рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:

```sh
pnpm run test.local.desktop.storybook.localhost -- --spec='tests/specs/storybook-interaction/*.ts'
```

рд╕реНрдЯреЛрд░реАрдмреБрдХ рд░рдирд░ рдкрд╣рд▓реЗ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЖрдкрдХреЗ рд╕реНрдЯреЛрд░реАрдмреБрдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреЛ рд╕реНрдХреИрди рдХрд░реЗрдЧрд╛ рдФрд░ рдлрд┐рд░ рдЖрдкрдХреЗ рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЛ рдЙрди рд╕реНрдЯреЛрд░реА рдореЗрдВ рдЬреЛрдбрд╝реЗрдЧрд╛ рдЬрд┐рдиреНрд╣реЗрдВ рддреБрд▓рдирд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред рдпрджрд┐ рдЖрдк рдирд╣реАрдВ рдЪрд╛рд╣рддреЗ рдХрд┐ рдЗрдВрдЯрд░реИрдХреНрд╢рди рдкрд░реАрдХреНрд╖рдг рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЗ рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдП рдЬрд╛рдиреЗ рд╡рд╛рд▓реЗ рдХрдВрдкреЛрдиреЗрдВрдЯ рдХреА рджреЛ рдмрд╛рд░ рддреБрд▓рдирд╛ рдХреА рдЬрд╛рдП, рддреЛ рдЖрдк рд╕реНрдХреИрди рд╕реЗ "рдбрд┐рдлрд╝реЙрд▓реНрдЯ" рд╕реНрдЯреЛрд░реА рдХреЛ рд╣рдЯрд╛рдиреЗ рдХреЗ рд▓рд┐рдП [`--skipStories`](#--skipstories) рдлрд┐рд▓реНрдЯрд░ рдкреНрд░рджрд╛рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдпрд╣ рдЗрд╕ рддрд░рд╣ рджрд┐рдЦреЗрдЧрд╛:

```sh
pnpm run test.local.desktop.storybook.localhost -- --skipStories="/example-page.*/gm" --spec='tests/specs/storybook-interaction/*.ts'
```

### рдирдпрд╛ рдХрд╕реНрдЯрдо рдХрдорд╛рдВрдб

рдПрдХ рдирдпрд╛ рдХрд╕реНрдЯрдо рдХрдорд╛рдВрдб рдЬрд┐рд╕реЗ `browser.waitForStorybookComponentToBeLoaded({ id: 'componentId' })` рдХрд╣рд╛ рдЬрд╛рддрд╛ рд╣реИ, `browser/driver`-рдСрдмреНрдЬреЗрдХреНрдЯ рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рдПрдЧрд╛ рдЬреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдХрдВрдкреЛрдиреЗрдВрдЯ рдХреЛ рд▓реЛрдб рдХрд░реЗрдЧрд╛ рдФрд░ рдЗрд╕рдХреЗ рдкреВрд░рд╛ рд╣реЛрдиреЗ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░реЗрдЧрд╛, рддрд╛рдХрд┐ рдЖрдкрдХреЛ `browser.url('url.com')` рд╡рд┐рдзрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рди рд╣реЛред рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ

```ts
import { browser, expect } from "@wdio/globals";

describe("Storybook Interaction", () => {
    it("should create screenshots for the logged in state when it logs out", async () => {
        const componentId = "example-page--logged-in";
        await browser.waitForStorybookComponentToBeLoaded({ id: componentId });

        await expect($("header")).toMatchElementSnapshot(
            `${componentId}-logged-in-state`
        );
        await $("button=Log out").click();
        await expect($("header")).toMatchElementSnapshot(
            `${componentId}-logged-out-state`
        );
    });

    it("should create screenshots for the logged out state when it logs in", async () => {
        const componentId = "example-page--logged-out";
        await browser.waitForStorybookComponentToBeLoaded({ id: componentId });

        await expect($("header")).toMatchElementSnapshot(
            `${componentId}-logged-out-state`
        );
        await $("button=Log in").click();
        await expect($("header")).toMatchElementSnapshot(
            `${componentId}-logged-in-state`
        );
    });
});
```

рд╡рд┐рдХрд▓реНрдк рд╣реИрдВ:

#### `additionalSearchParams`

-   **рдкреНрд░рдХрд╛рд░:** [`URLSearchParams`](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams)
-   **рдЕрдирд┐рд╡рд╛рд░реНрдп:** рдирд╣реАрдВ
-   **рдбрд┐рдлрд╝реЙрд▓реНрдЯ:** `new URLSearchParams()`
-   **рдЙрджрд╛рд╣рд░рдг:**

```ts
await browser.waitForStorybookComponentToBeLoaded({
    additionalSearchParams: new URLSearchParams({ foo: "bar", abc: "def" }),
    id: "componentId",
});
```

рдпрд╣ рд╕реНрдЯреЛрд░реАрдмреБрдХ URL рдореЗрдВ рдЕрддрд┐рд░рд┐рдХреНрдд рдЦреЛрдЬ рдкреИрд░рд╛рдореАрдЯрд░ рдЬреЛрдбрд╝реЗрдЧрд╛, рдЙрдкрд░реЛрдХреНрдд рдЙрджрд╛рд╣рд░рдг рдореЗрдВ URL `http://storybook.url/iframe.html?id=story-id&foo=bar&abc=def` рд╣реЛрдЧрд╛ред
рдЕрдзрд┐рдХ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП [URLSearchParams](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams) рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рджреЗрдЦреЗрдВред

#### `clipSelector`

-   **рдкреНрд░рдХрд╛рд░:** `string`
-   **рдЕрдирд┐рд╡рд╛рд░реНрдп:** рдирд╣реАрдВ
-   **рдбрд┐рдлрд╝реЙрд▓реНрдЯ:** рд╕реНрдЯреЛрд░реАрдмреБрдХ V7 рдХреЗ рд▓рд┐рдП `#storybook-root > :first-child` рдФрд░ рд╕реНрдЯреЛрд░реАрдмреБрдХ V6 рдХреЗ рд▓рд┐рдП `#root > :first-child:not(script):not(style)`
-   **рдЙрджрд╛рд╣рд░рдг:**

```ts
await browser.waitForStorybookComponentToBeLoaded({
    clipSelector: "#your-selector",
    id: "componentId",
});
```

рдпрд╣ рд╡рд╣ рд╕реЗрд▓реЗрдХреНрдЯрд░ рд╣реИ рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛:

-   рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рд▓реЗрдиреЗ рдХреЗ рд▓рд┐рдП рддрддреНрд╡ рдХрд╛ рдЪрдпрди рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП
-   рд╕реНрдХреНрд░реАрдирд╢реЙрдЯ рд▓реЗрдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рджреГрд╢реНрдпрдорд╛рди рд╣реЛрдиреЗ рдХреЗ рд▓рд┐рдП рддрддреНрд╡ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП

#### `id`

-   **рдкреНрд░рдХрд╛рд░:** `string`
-   **рдЕрдирд┐рд╡рд╛рд░реНрдп:** рд╣рд╛рдВ
-   **рдЙрджрд╛рд╣рд░рдг:**

```ts
await browser.waitForStorybookComponentToBeLoaded({ '#your-selector', id: 'componentId' })
```

рд╕реНрдЯреЛрд░реА рдХреА `id` рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ рдЬреЛ рд╕реНрдЯреЛрд░реА рдХреЗ URL рдореЗрдВ рдкрд╛рдИ рдЬрд╛ рд╕рдХрддреА рд╣реИред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдЗрд╕ URL `http://localhost:6006/?path=/story/example-page--logged-out` рдореЗрдВ `id` `example-page--logged-out` рд╣реИ

#### `timeout`

-   **рдкреНрд░рдХрд╛рд░:** `number`
-   **рдЕрдирд┐рд╡рд╛рд░реНрдп:** рдирд╣реАрдВ
-   **рдбрд┐рдлрд╝реЙрд▓реНрдЯ:** 1100 рдорд┐рд▓реАрд╕реЗрдХрдВрдб
-   **рдЙрджрд╛рд╣рд░рдг:**

```ts
await browser.waitForStorybookComponentToBeLoaded({
    id: "componentId",
    timeout: 20000,
});
```

рдЕрдзрд┐рдХрддрдо рдЯрд╛рдЗрдордЖрдЙрдЯ рдЬреЛ рд╣рдо рдкреГрд╖реНрда рдкрд░ рд▓реЛрдб рд╣реЛрдиреЗ рдХреЗ рдмрд╛рдж рдПрдХ рдХрдВрдкреЛрдиреЗрдВрдЯ рдХреЗ рджреГрд╢реНрдпрдорд╛рди рд╣реЛрдиреЗ рдХреА рдкреНрд░рддреАрдХреНрд╖рд╛ рдХрд░рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ

#### `url`

-   **рдкреНрд░рдХрд╛рд░:** `string`
-   **рдЕрдирд┐рд╡рд╛рд░реНрдп:** рдирд╣реАрдВ
-   **рдбрд┐рдлрд╝реЙрд▓реНрдЯ:** `http://127.0.0.1:6006`
-   **рдЙрджрд╛рд╣рд░рдг:**

```ts
await browser.waitForStorybookComponentToBeLoaded({
    id: "componentId",
    url: "https://your.url",
});
```

рд╡рд╣ URL рдЬрд╣рд╛рдВ рдЖрдкрдХрд╛ рд╕реНрдЯреЛрд░реАрдмреБрдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕ рд╣реЛрд╕реНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ рд╣реИред

</details>

## рдпреЛрдЧрджрд╛рди

### рдкреИрдХреЗрдЬ рдЕрдкрдбреЗрдЯ рдХрд░рдирд╛

рдЖрдк рдПрдХ рд╕рд░рд▓ CLI рдЯреВрд▓ рдХреЗ рд╕рд╛рде рдкреИрдХреЗрдЬ рдЕрдкрдбреЗрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдиреЗ рд╕рднреА рдирд┐рд░реНрднрд░рддрд╛рдУрдВ рдХреЛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд┐рдпрд╛ рд╣реИ, рдлрд┐рд░ рдЖрдк рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ

```sh
pnpm update.packages
```

рдпрд╣ рдПрдХ CLI рдЯреНрд░рд┐рдЧрд░ рдХрд░реЗрдЧрд╛ рдЬреЛ рдЖрдкрд╕реЗ рдирд┐рдореНрди рдкреНрд░рд╢реНрди рдкреВрдЫреЗрдЧрд╛

```logs
==========================
ЁЯдЦ Package update Wizard ЁЯзЩ
==========================

? Which version target would you like to update to? (Minor|Latest)
? Do you want to update the package.json files? (Y/n)
? Do you want to remove all "node_modules" and reinstall dependencies? (Y/n)
? Would you like reinstall the dependencies? (Y/n)
```

### рдкреНрд░рд╢реНрди

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдЗрд╕ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ рдпреЛрдЧрджрд╛рди рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреЛрдИ рдкреНрд░рд╢реНрди рдпрд╛ рд╕рдорд╕реНрдпрд╛рдПрдВ рд╣реИрдВ, рддреЛ рдХреГрдкрдпрд╛ рд╣рдорд╛рд░реЗ [Discord](https://discord.webdriver.io) рд╕рд░реНрд╡рд░ рд╕реЗ рдЬреБрдбрд╝реЗрдВред `ЁЯЩП-contributing` рдЪреИрдирд▓ рдореЗрдВ рдпреЛрдЧрджрд╛рдирдХрд░реНрддрд╛рдУрдВ рд╕реЗ рд╕рдВрдкрд░реНрдХ рдХрд░реЗрдВред

### рд╕рдорд╕реНрдпрд╛рдПрдВ

рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдкреНрд░рд╢реНрди, рдмрдЧ рдпрд╛ рдлреАрдЪрд░ рдЕрдиреБрд░реЛрдз рд╣реИрдВ, рддреЛ рдХреГрдкрдпрд╛ рдПрдХ рд╕рдорд╕реНрдпрд╛ рджрд░реНрдЬ рдХрд░реЗрдВред рд╕рдорд╕реНрдпрд╛ рд╕рдмрдорд┐рдЯ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ, рдХреГрдкрдпрд╛ рдбреБрдкреНрд▓рд┐рдХреЗрдЯ рдХреЛ рдХрдо рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХреЗ рд▓рд┐рдП рд╕рдорд╕реНрдпрд╛ рдЖрд░реНрдХрд╛рдЗрд╡ рдЦреЛрдЬреЗрдВ, рдФрд░ [FAQ](https://webdriver.io/docs/visual-testing/faq/) рдкрдврд╝реЗрдВред

рдпрджрд┐ рдЖрдк рдЗрд╕реЗ рд╡рд╣рд╛рдВ рдирд╣реАрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВ рддреЛ рдЖрдк рдПрдХ рд╕рдорд╕реНрдпрд╛ рд╕рдмрдорд┐рдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬрд╣рд╛рдВ рдЖрдк рд╕рдмрдорд┐рдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

-   ЁЯРЫ**рдмрдЧ рд░рд┐рдкреЛрд░реНрдЯ**: рд╣рдореЗрдВ рд╕реБрдзрд╛рд░ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдПрдХ рд░рд┐рдкреЛрд░реНрдЯ рдмрдирд╛рдПрдВ
-   ЁЯУЦ**рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг**: рд╕реБрдзрд╛рд░ рдХрд╛ рд╕реБрдЭрд╛рд╡ рджреЗрдВ рдпрд╛ рдЧрд╛рдпрдм/рдЕрд╕реНрдкрд╖реНрдЯ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг рдХреА рд░рд┐рдкреЛрд░реНрдЯ рдХрд░реЗрдВред
-   ЁЯТб**рдлреАрдЪрд░ рдЕрдиреБрд░реЛрдз**: рдЗрд╕ рдореЙрдбреНрдпреВрд▓ рдХреЗ рд▓рд┐рдП рдПрдХ рд╡рд┐рдЪрд╛рд░ рдХрд╛ рд╕реБрдЭрд╛рд╡ рджреЗрдВред
-   ЁЯТм**рдкреНрд░рд╢реНрди**: рдкреНрд░рд╢реНрди рдкреВрдЫреЗрдВред

### рд╡рд┐рдХрд╛рд╕ рд╡рд░реНрдХрдлрд╝реНрд▓реЛ

рдЗрд╕ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЗ рд▓рд┐рдП PR рдмрдирд╛рдиреЗ рдФрд░ рдпреЛрдЧрджрд╛рди рджреЗрдирд╛ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрд╕ рдЪрд░рдг-рджрд░-рдЪрд░рдг рдЧрд╛рдЗрдб рдХрд╛ рдЕрдиреБрд╕рд░рдг рдХрд░реЗрдВ:

-   рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рдлреЛрд░реНрдХ рдХрд░реЗрдВред
-   рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдХреЛ рдЕрдкрдиреЗ рдХрдВрдкреНрдпреВрдЯрд░ рдкрд░ рдХрд╣реАрдВ рдХреНрд▓реЛрди рдХрд░реЗрдВ

    ```sh
    $ git clone https://github.com/webdriverio/visual-testing.git
    ```

-   рдбрд╛рдпрд░реЗрдХреНрдЯрд░реА рдореЗрдВ рдЬрд╛рдПрдВ рдФрд░ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕реЗрдЯрдЕрдк рдХрд░реЗрдВ

    ```sh
    $ cd visual-testing
    $ corepack enable
    $ pnpm pnpm.install.workaround
    ```

-   рд╡реЙрдЪ рдореЛрдб рдЪрд▓рд╛рдПрдВ рдЬреЛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдХреЛрдб рдХреЛ рдЯреНрд░рд╛рдВрд╕рдкрд╛рдЗрд▓ рдХрд░реЗрдЧрд╛

    ```sh
    $ pnpm watch
    ```

    рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЪрд▓рд╛рдПрдВ:

    ```sh
    $ pnpm build
    ```

-   рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдХреЗ рдкрд░рд┐рд╡рд░реНрддрди рдХрд┐рд╕реА рднреА рдкрд░реАрдХреНрд╖рдг рдХреЛ рдирд╣реАрдВ рддреЛрдбрд╝рддреЗ рд╣реИрдВ, рдЪрд▓рд╛рдПрдВ:

    ```sh
    $ pnpm test
    ```

рдпрд╣ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ рдЪреЗрдВрдЬрд▓реЙрдЧ рдФрд░ рд░рд┐рд▓реАрдЬ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП [changesets](https://github.com/changesets/changesets) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред

### рдкрд░реАрдХреНрд╖рдг

рдореЙрдбреНрдпреВрд▓ рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдИ рдкрд░реАрдХреНрд╖рдг рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рд╣реЛрдВрдЧреЗред PR рдЬреЛрдбрд╝рддреЗ рд╕рдордп рд╕рднреА рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЛ рдХрдо рд╕реЗ рдХрдо рд╕реНрдерд╛рдиреАрдп рдкрд░реАрдХреНрд╖рдгреЛрдВ рдХреЛ рдкрд╛рд╕ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред рдкреНрд░рддреНрдпреЗрдХ PR рдХрд╛ рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ Sauce Labs рдХреЗ рдЦрд┐рд▓рд╛рдл рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рджреЗрдЦреЗрдВ [рд╣рдорд╛рд░реА GitHub Actions рдкрд╛рдЗрдкрд▓рд╛рдЗрди](https://github.com/webdriverio/visual-testing/actions/workflows/tests.yml)ред PR рдХреЛ рдЕрдиреБрдореЛрджрд┐рдд рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ рдореБрдЦреНрдп рдпреЛрдЧрджрд╛рдирдХрд░реНрддрд╛ рдПрдореБрд▓реЗрдЯрд░/рд╕рд┐рдореБрд▓реЗрдЯрд░ / рд╡рд╛рд╕реНрддрд╡рд┐рдХ рдЙрдкрдХрд░рдгреЛрдВ рдХреЗ рдЦрд┐рд▓рд╛рдл PR рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдВрдЧреЗред

#### рд╕реНрдерд╛рдиреАрдп рдкрд░реАрдХреНрд╖рдг

рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдПрдХ рд╕реНрдерд╛рдиреАрдп рдмреЗрд╕рд▓рд╛рдЗрди рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред рдпрд╣ рдирд┐рдореНрди рдХреЗ рд╕рд╛рде рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:

```sh
// With the webdriver protocol
$ pnpm run test.local.init
```

рдпрд╣ рдХрдорд╛рдВрдб `localBaseline` рдирд╛рдордХ рдПрдХ рдлрд╝реЛрд▓реНрдбрд░ рдмрдирд╛рдПрдЧрд╛ рдЬреЛ рд╕рднреА рдмреЗрд╕рд▓рд╛рдЗрди рдЫрд╡рд┐рдпреЛрдВ рдХреЛ рд░рдЦреЗрдЧрд╛ред

рдлрд┐рд░ рдЪрд▓рд╛рдПрдВ:

```sh
// With the webdriver protocol
pnpm run test.local.desktop
```

рдпрд╣ рд╕реНрдерд╛рдиреАрдп рдорд╢реАрди рдкрд░ Chrome рдкрд░ рд╕рднреА рдкрд░реАрдХреНрд╖рдг рдЪрд▓рд╛рдПрдЧрд╛ред

#### рд╕реНрдерд╛рдиреАрдп рд╕реНрдЯреЛрд░реАрдмреБрдХ рд░рдирд░ рдкрд░реАрдХреНрд╖рдг (рдмреАрдЯрд╛)

рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдПрдХ рд╕реНрдерд╛рдиреАрдп рдмреЗрд╕рд▓рд╛рдЗрди рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИред рдпрд╣ рдирд┐рдореНрди рдХреЗ рд╕рд╛рде рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ:

```sh
pnpm run test.local.desktop.storybook
```

рдпрд╣ рд╣реЗрдбрд▓реЗрд╕ рдореЛрдб рдореЗрдВ Chrome рдХреЗ рд╕рд╛рде рд╕реНрдЯреЛрд░реАрдмреБрдХ рдкрд░реАрдХреНрд╖рдг https://govuk-react.github.io/govuk-react/ рдкрд░ рд╕реНрдерд┐рдд рдПрдХ рдбреЗрдореЛ рд╕реНрдЯреЛрд░реАрдмреБрдХ рд░реЗрдкреЛ рдХреЗ рдЦрд┐рд▓рд╛рдл рдЪрд▓рд╛рдПрдЧрд╛ред

рдЕрдзрд┐рдХ рдмреНрд░рд╛рдЙрдЬрд╝рд░реЛрдВ рдХреЗ рд╕рд╛рде рдкрд░реАрдХреНрд╖рдг рдЪрд▓рд╛рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдк рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ

```sh
pnpm run test.local.desktop.storybook -- --browsers=chrome,firefox,edge,safari
```

> [!NOTE]
> рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░реЗрдВ рдХрд┐ рдЖрдкрдиреЗ рдЕрдкрдиреЗ рд╕реНрдерд╛рдиреАрдп рдорд╢реАрди рдкрд░ рдЙрди рдмреНрд░рд╛рдЙрдЬрд╝рд░реЛрдВ рдХреЛ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд┐рдпрд╛ рд╣реИ рдЬрд┐рди рдкрд░ рдЖрдк рдЪрд▓рд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ

#### CI рдкрд░реАрдХреНрд╖рдг Sauce Labs рдХреЗ рд╕рд╛рде (PR рдХреЗ рд▓рд┐рдП рдЖрд╡рд╢реНрдпрдХ рдирд╣реАрдВ)

рдиреАрдЪреЗ рджрд┐рдпрд╛ рдЧрдпрд╛ рдХрдорд╛рдВрдб GitHub Actions рдкрд░ рдмрд┐рд▓реНрдб рдХрд╛ рдкрд░реАрдХреНрд╖рдг рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреЗрд╡рд▓ рд╡рд╣рд╛рдВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рд╕реНрдерд╛рдиреАрдп рд╡рд┐рдХрд╛рд╕ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВред

```
$ pnpm run test.saucelabs
```

рдпрд╣ рдмрд╣реБрдд рд╕рд╛рд░реЗ рдХреЙрдиреНрдлрд┐рдЧрд░реЗрд╢рди рдХреЗ рдЦрд┐рд▓рд╛рдл рдкрд░реАрдХреНрд╖рдг рдХрд░реЗрдЧрд╛ рдЬрд┐рдиреНрд╣реЗрдВ [рдпрд╣рд╛рдВ](https://github.com/webdriverio/visual-testing/blob/main/./tests/configs/wdio.saucelabs.web.conf.ts) рдкрд╛рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред
рд╕рднреА PR рдХреА рд╕реНрд╡рдЪрд╛рд▓рд┐рдд рд░реВрдк рд╕реЗ Sauce Labs рдХреЗ рдЦрд┐рд▓рд╛рдл рдЬрд╛рдВрдЪ рдХреА рдЬрд╛рддреА рд╣реИред

## рд░рд┐рд▓реАрдЬрд╝рд┐рдВрдЧ

рдКрдкрд░ рд╕реВрдЪреАрдмрджреНрдз рдХрд┐рд╕реА рднреА рдкреИрдХреЗрдЬ рдХреЗ рд╡рд░реНрд╢рди рдХреЛ рд░рд┐рд▓реАрдЬ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдирд┐рдореНрди рдХрд░реЗрдВ:

-   [рд░рд┐рд▓реАрдЬ рдкрд╛рдЗрдкрд▓рд╛рдЗрди](https://github.com/webdriverio/visual-testing/actions/workflows/release.yml) рдЯреНрд░рд┐рдЧрд░ рдХрд░реЗрдВ
-   рдПрдХ рд░рд┐рд▓реАрдЬ PR рдЬрдирд░реЗрдЯ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕рдХреА рд╕рдореАрдХреНрд╖рд╛ рдХрд░рд╡рд╛рдПрдВ рдФрд░ рдХрд┐рд╕реА рдЕрдиреНрдп WebdriverIO рд╕рджрд╕реНрдп рджреНрд╡рд╛рд░рд╛ рдЕрдиреБрдореЛрджрд┐рдд рдХрд░рд╡рд╛рдПрдВ
-   PR рдХреЛ рдорд░реНрдЬ рдХрд░реЗрдВ
-   [рд░рд┐рд▓реАрдЬ рдкрд╛рдЗрдкрд▓рд╛рдЗрди](https://github.com/webdriverio/visual-testing/actions/workflows/release.yml) рдХреЛ рдлрд┐рд░ рд╕реЗ рдЯреНрд░рд┐рдЧрд░ рдХрд░реЗрдВ
-   рдПрдХ рдирдпрд╛ рд╡рд░реНрд╢рди рд░рд┐рд▓реАрдЬ рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП ЁЯОЙ

## рдХреНрд░реЗрдбрд┐рдЯ

`@wdio/visual-testing` [LambdaTest](https://www.lambdatest.com/) рдФрд░ [Sauce Labs](https://saucelabs.com/) рд╕реЗ рдПрдХ рдУрдкрди-рд╕реЛрд░реНрд╕ рд▓рд╛рдЗрд╕реЗрдВрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред