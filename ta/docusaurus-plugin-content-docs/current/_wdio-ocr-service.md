---
id: wdio-ocr-service
title: OCR роЪрпЛродройрпИ роЪрпЗро╡рпИ
custom_edit_url: https://github.com/webdriverio/visual-testing/edit/main/README.md
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

> @wdio/ocr-service роОройрпНрокродрпБ роТро░рпБ роорпВройрпНро▒ро╛роорпН родро░рокрпНрокрпБ родрпКроХрпБрокрпНрокрпБ, роорпЗро▓рпБроорпН родроХро╡ро▓рпБроХрпНроХрпБ родропро╡рпБроЪрпЖропрпНродрпБ [GitHub](https://github.com/webdriverio/visual-testing) | [npm](https://www.npmjs.com/package/@wdio/ocr-service) роРрокрпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН

WebdriverIO роЙроЯройрпН роХро╛роЯрпНроЪро┐ роЪрпЛродройрпИ рокро▒рпНро▒ро┐роп роЖро╡рогроЩрпНроХро│рпБроХрпНроХрпБ, родропро╡рпБроЪрпЖропрпНродрпБ [docs](https://webdriver.io/docs/visual-testing) роРрокрпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН. роЗроирпНрод родро┐роЯрпНроЯроорпН WebdriverIO роЙроЯройрпН роХро╛роЯрпНроЪро┐ роЪрпЛродройрпИроХро│рпИ роЗропроХрпНроХрпБро╡родро▒рпНроХро╛рой роЕройрпИродрпНродрпБ родрпКроЯро░рпНрокрпБроЯрпИроп родрпКроХрпБродро┐роХро│рпИропрпБроорпН роХрпКрогрпНроЯрпБро│рпНро│родрпБ. `./packages` роЕроЯрпИро╡ро┐ро▓рпН роирпАроЩрпНроХро│рпН рокро┐ройрпНро╡ро░рпБро╡ройро╡ро▒рпНро▒рпИроХрпН роХро╛рогро▓ро╛роорпН:

-   `@wdio/visual-testing`: роХро╛роЯрпНроЪро┐ роЪрпЛродройрпИропрпИ роТро░рпБроЩрпНроХро┐рогрпИрокрпНрокродро▒рпНроХро╛рой WebdriverIO роЪрпЗро╡рпИ
-   `webdriver-image-comparison`: WebDriver роирпЖро▒ро┐роорпБро▒рпИропрпИ роЖродро░ро┐роХрпНроХрпБроорпН ро╡рпЖро╡рпНро╡рпЗро▒рпБ NodeJS роЪрпЛродройрпИ родро╛ройро┐ропроХрпНроХ роХроЯрпНроЯроорпИрокрпНрокрпБроХро│рпБроХрпНроХрпБрокрпН рокропройрпНрокроЯрпБродрпНродроХрпНроХрпВроЯро┐роп рокроЯроорпН роТрокрпНрокро┐роЯрпБроорпН родрпКроХрпБродро┐

## Storybook ро░ройрпНройро░рпН (BETA)

<details>
  <summary>Storybook ро░ройрпНройро░рпН BETA рокро▒рпНро▒ро┐роп роорпЗро▓рпБроорпН роЖро╡рогроЩрпНроХро│рпИроХрпН роХро╛рог роХро┐ро│ро┐роХрпН роЪрпЖропрпНропро╡рпБроорпН</summary>

> Storybook ро░ройрпНройро░рпН роЗройрпНройрпБроорпН BETA роиро┐ро▓рпИропро┐ро▓рпН роЙро│рпНро│родрпБ, роЖро╡рогроЩрпНроХро│рпН рокро┐ройрпНройро░рпН [WebdriverIO](https://webdriver.io/docs/visual-testing) роЖро╡рогрокрпНрокроХрпНроХроЩрпНроХро│рпБроХрпНроХрпБ рооро╛ро▒рпНро▒рокрпНрокроЯрпБроорпН.

роЗроирпНрод родрпКроХрпБродро┐ роЗрокрпНрокрпЛродрпБ роТро░рпБ рокрпБродро┐роп ро╡ро┐ро╖рпБро╡ро▓рпН ро░ройрпНройро░рпБроЯройрпН Storybook роР роЖродро░ро┐роХрпНроХро┐ро▒родрпБ. роЗроирпНрод ро░ройрпНройро░рпН роЙро│рпНро│рпВро░рпН/родрпКро▓рпИроиро┐ро▓рпИ storybook роиро┐роХро┤рпНроиро┐ро▓рпИропрпИ родро╛ройро╛роХро╡рпЗ ро╕рпНроХрпЗройрпН роЪрпЖропрпНродрпБ, роТро╡рпНро╡рпКро░рпБ роХрпВро▒рпБроХро│ро┐ройрпН роЙро▒рпБрокрпНрокрпБ ро╕рпНроХро┐ро░рпАройрпНро╖ро╛роЯрпНроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБроорпН. роЗродрпИ

```ts
export const config: WebdriverIO.Config = {
    // ...
    services: ["visual"],
    // ....
};
```

роЙроЩрпНроХро│рпН `services` роЗро▓рпН роЪрпЗро░рпНрокрпНрокродройрпН роорпВро▓роорпБроорпН, `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook` роХроЯрпНроЯро│рпИ ро╡ро░ро┐ропро┐ро▓рпН роЗропроХрпНроХрпБро╡родройрпН роорпВро▓роорпБроорпН роЪрпЖропрпНропро▓ро╛роорпН.
роЗродрпБ роЗропро▓рпНрокрпБроиро┐ро▓рпИ роЙро▓ро╛ро╡ро┐ропро╛роХ headless роорпБро▒рпИропро┐ро▓рпН Chrome роРрокрпН рокропройрпНрокроЯрпБродрпНродрпБроорпН.

> [!NOTE]
>
> -   ро╡ро┐ро╖рпБро╡ро▓рпН роЯрпЖро╕рпНроЯро┐роЩрпН ро╡ро┐ро░рпБрокрпНрокроЩрпНроХро│ро┐ро▓рпН рокрпЖро░рпБроорпНрокро╛ро▓ро╛ройро╡рпИ Storybook ро░ройрпНройро░рпБроХрпНроХрпБроорпН роЪрпЖропро▓рпНрокроЯрпБроорпН, [WebdriverIO](https://webdriver.io/docs/visual-testing) роЖро╡рогродрпНродрпИрокрпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН.
> -   Storybook ро░ройрпНройро░рпН роЙроЩрпНроХро│рпН роЕройрпИродрпНродрпБ родро┐ро▒ройрпНроХро│рпИропрпБроорпН роорпЗро▓рпЖро┤рпБродрпБроорпН, роорпЗро▓рпБроорпН роЗродрпБ роЖродро░ро┐роХрпНроХрпБроорпН роЙро▓ро╛ро╡ро┐роХро│ро┐ро▓рпН роороЯрпНроЯрпБроорпЗ роЗропроЩрпНроХрпБроорпН, [`--browsers`](#browsers) роРрокрпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН.
> -   Storybook ро░ройрпНройро░рпН Multiremote родро┐ро▒ройрпНроХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБроорпН роЗро░рпБроХрпНроХрпБроорпН роЙро│рпНро│роорпИро╡рпИ роЖродро░ро┐роХрпНроХро╛родрпБ рооро▒рпНро▒рпБроорпН рокро┐ро┤рпИропрпИ ро╡рпАроЪрпБроорпН.
> -   Storybook ро░ройрпНройро░рпН роорпКрокрпИро▓рпН ро╡рпЖрокрпН роЕро▓рпНро▓, роЯрпЖро╕рпНроХрпНроЯро╛рокрпН ро╡рпЖрокрпН роороЯрпНроЯрпБроорпЗ роЖродро░ро┐роХрпНроХро┐ро▒родрпБ.

### Storybook ро░ройрпНройро░рпН роЪрпЗро╡рпИ ро╡ро┐ро░рпБрокрпНрокроЩрпНроХро│рпН

роЪрпЗро╡рпИ ро╡ро┐ро░рпБрокрпНрокроЩрпНроХро│рпИ роЗро╡рпНро╡ро╛ро▒рпБ ро╡ро┤роЩрпНроХро▓ро╛роорпН

```ts
export const config: WebdriverIO.Config  = {
    // ...
    services: [
      [
        'visual',
        {
            // роЪро┐ро▓ роЗропро▓рпНрокрпБроиро┐ро▓рпИ ро╡ро┐ро░рпБрокрпНрокроЩрпНроХро│рпН
            baselineFolder: join(process.cwd(), './__snapshots__/'),
            debug: true,
            // storybook ро╡ро┐ро░рпБрокрпНрокроЩрпНроХро│рпН, ро╡ро┐ро│роХрпНроХродрпНродро┐ро▒рпНроХрпБ cli ро╡ро┐ро░рпБрокрпНрокроЩрпНроХро│рпИрокрпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН
            storybook: {
                additionalSearchParams: new URLSearchParams({foo: 'bar', abc: 'def'}),
                clip: false,
                clipSelector: ''#some-id,
                numShards: 4,
                // `skipStories` роТро░рпБ роЪро░роорпН ('example-button--secondary'),
                // роТро░рпБ ро╡ро░ро┐роЪрпИ (['example-button--secondary', 'example-button--small'])
                // роЕро▓рпНро▓родрпБ роТро░рпБ regex роЖроХ роЗро░рпБроХрпНроХро▓ро╛роорпН, роЗродрпБ роТро░рпБ роЪро░рооро╛роХ ро╡ро┤роЩрпНроХрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН ("/.*button.*/gm")
                skipStories: ['example-button--secondary', 'example-button--small'],
                url: 'https://www.bbc.co.uk/iplayer/storybook/',
                version: 6,
                // ро╡ро┐ро░рпБрокрпНрокроорпН - роЕроЯро┐рокрпНрокроЯрпИ рокро╛родрпИроХро│рпИ роорпЗро▓рпЖро┤рпБрод роЕройрпБроородро┐роХрпНроХро┐ро▒родрпБ. роЗропро▓рпНрокро╛роХ роЗродрпБ ро╡роХрпИ рооро▒рпНро▒рпБроорпН роХрпВро▒рпБрокроЯро┐ роЕроЯро┐рокрпНрокроЯрпИ рокро╛родрпИропрпИ роХрпБро┤рпБро╡ро╛роХрпНроХрпБроорпН (роО.роХро╛. forms/input/baseline.png)
                getStoriesBaselinePath: (category, component) => `path__${category}__${component}`,
            },
        },
      ],
    ],
    // ....
}
```

### Storybook ро░ройрпНройро░рпН CLI ро╡ро┐ро░рпБрокрпНрокроЩрпНроХро│рпН

#### `--additionalSearchParams`

-   **ро╡роХрпИ:** `string`
-   **роХроЯрпНроЯро╛ропроорпН:** роЗро▓рпНро▓рпИ
-   **роЗропро▓рпНрокрпБроиро┐ро▓рпИ:** ''
-   **роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --additionalSearchParams="foo=bar&abc=def"`

роЗродрпБ Storybook URL роХрпНроХрпБ роХрпВроЯрпБродро▓рпН родрпЗроЯро▓рпН роЕро│ро╡рпБро░рпБроХрпНроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХрпБроорпН.
роорпЗро▓рпБроорпН родроХро╡ро▓рпБроХрпНроХрпБ [URLSearchParams](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams) роЖро╡рогродрпНродрпИрокрпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН. роЪро░роорпН роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН URLSearchParams роЪро░рооро╛роХ роЗро░рпБроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН.

> [!NOTE]
> `&` роР роХроЯрпНроЯро│рпИ рокро┐ро░ро┐рокрпНрокро╛ройро╛роХ ро╡ро┐ро│роХрпНроХрокрпНрокроЯрпБро╡родрпИродрпН родроЯрпБроХрпНроХ роЗро░роЯрпНроЯрпИ роорпЗро▒рпНроХрпЛро│рпНроХро│рпН родрпЗро╡рпИ.
> роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯро╛роХ, `--additionalSearchParams="foo=bar&abc=def"` роЙроЯройрпН роЕродрпБ рокро┐ройрпНро╡ро░рпБроорпН Storybook URL роР роХродрпИроХро│рпН роЪрпЛродройрпИроХрпНроХрпБ роЙро░рпБро╡ро╛роХрпНроХрпБроорпН: `http://storybook.url/iframe.html?id=story-id&foo=bar&abc=def`.

#### `--browsers`

-   **ро╡роХрпИ:** `string`
-   **роХроЯрпНроЯро╛ропроорпН:** роЗро▓рпНро▓рпИ
-   **роЗропро▓рпНрокрпБроиро┐ро▓рпИ:** `chrome`, роирпАроЩрпНроХро│рпН `chrome|firefox|edge|safari` роЗро▓ро┐ро░рпБроирпНродрпБ родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро▓ро╛роорпН
-   **роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --browsers=chrome,firefox,edge,safari`
-   **роХрпБро▒ро┐рокрпНрокрпБ:** CLI роорпВро▓роорпН роороЯрпНроЯрпБроорпЗ роХро┐роЯрпИроХрпНроХрпБроорпН

роХрпВро▒рпБ ро╕рпНроХро┐ро░рпАройрпНро╖ро╛роЯрпНроХро│рпИ роОроЯрпБроХрпНроХ ро╡ро┤роЩрпНроХрокрпНрокроЯрпНроЯ роЙро▓ро╛ро╡ро┐роХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБроорпН

> [!NOTE]
> роирпАроЩрпНроХро│рпН роЗропроХрпНроХ ро╡ро┐ро░рпБроорпНрокрпБроорпН роЙро▓ро╛ро╡ро┐роХро│рпИ роЙроЩрпНроХро│рпН роЙро│рпНро│рпВро░рпН роЗропроирпНродро┐ро░родрпНродро┐ро▓рпН роиро┐ро▒рпБро╡ро┐ропрпБро│рпНро│рпАро░рпНроХро│рпН роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро┐роХрпН роХрпКро│рпНро│рпБроЩрпНроХро│рпН

#### `--clip`

-   **ро╡роХрпИ:** `boolean`
-   **роХроЯрпНроЯро╛ропроорпН:** роЗро▓рпНро▓рпИ
-   **роЗропро▓рпНрокрпБроиро┐ро▓рпИ:** `true`
-   **роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --clip=false`

роорпБроЯроХрпНроХрокрпНрокроЯрпНроЯро┐ро░рпБроХрпНроХрпБроорпНрокрпЛродрпБ роЗродрпБ роТро░рпБ viewport ро╕рпНроХро┐ро░рпАройрпНро╖ро╛роЯрпНроЯрпИ роЙро░рпБро╡ро╛роХрпНроХрпБроорпН. роЗропроХрпНроХрокрпНрокроЯрпНроЯро┐ро░рпБроХрпНроХрпБроорпНрокрпЛродрпБ, роЗродрпБ [`--clipSelector`](#clipselector) роЕроЯро┐рокрпНрокроЯрпИропро┐ро▓рпН роЙро▒рпБрокрпНрокрпБ ро╕рпНроХро┐ро░рпАройрпНро╖ро╛роЯрпНроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБроорпН, роЗродрпБ роХрпВро▒рпБ ро╕рпНроХро┐ро░рпАройрпНро╖ро╛роЯрпНроЯрпИроЪрпН роЪрпБро▒рпНро▒ро┐ропрпБро│рпНро│ ро╡рпЖро│рпНро│рпИ роЗроЯрпИро╡рпЖро│ро┐ропро┐ройрпН роЕро│ро╡рпИроХрпН роХрпБро▒рпИродрпНродрпБ, ро╕рпНроХро┐ро░рпАройрпНро╖ро╛роЯрпН роЕро│ро╡рпИроХрпН роХрпБро▒рпИроХрпНроХрпБроорпН.

#### `--clipSelector`

-   **ро╡роХрпИ:** `string`
-   **роХроЯрпНроЯро╛ропроорпН:** роЗро▓рпНро▓рпИ
-   **роЗропро▓рпНрокрпБроиро┐ро▓рпИ:** Storybook V7 роХрпНроХрпБ `#storybook-root > :first-child` рооро▒рпНро▒рпБроорпН Storybook V6 роХрпНроХрпБ `#root > :first-child:not(script):not(style)`, [`--version`](#version) роРропрпБроорпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН
-   **роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --clipSelector="#some-id"`

роЗродрпБ рокро┐ройрпНро╡ро░рпБро╡ройро╡ро▒рпНро▒ро┐ро▒рпНроХрпБрокрпН рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН родрпЗро░рпНро╡ро┐ропро╛роХрпБроорпН:

-   ро╕рпНроХро┐ро░рпАройрпНро╖ро╛роЯрпН роОроЯрпБроХрпНроХ ро╡рпЗрогрпНроЯро┐роп роЙро▒рпБрокрпНрокрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХ
-   ро╕рпНроХро┐ро░рпАройрпНро╖ро╛роЯрпН роОроЯрпБроХрпНроХрокрпНрокроЯрпБро╡родро▒рпНроХрпБ роорпБройрпН родрпЖро░ро┐ропроХрпНроХрпВроЯро┐роп роЙро▒рпБрокрпНрокрпБроХрпНроХро╛роХ роХро╛родрпНродро┐ро░рпБроХрпНроХ

#### `--devices`

-   **ро╡роХрпИ:** `string`
-   **роХроЯрпНроЯро╛ропроорпН:** роЗро▓рпНро▓рпИ
-   **роЗропро▓рпНрокрпБроиро┐ро▓рпИ:** роирпАроЩрпНроХро│рпН [`deviceDescriptors.ts`](https://github.com/webdriverio/visual-testing/blob/main/./packages/service/src/storybook/deviceDescriptors.ts) роЗро▓ро┐ро░рпБроирпНродрпБ родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро▓ро╛роорпН
-   **роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --devices="iPhone 14 Pro Max","Pixel 3 XL"`
-   **роХрпБро▒ро┐рокрпНрокрпБ:** CLI роорпВро▓роорпН роороЯрпНроЯрпБроорпЗ роХро┐роЯрпИроХрпНроХрпБроорпН

роХрпВро▒рпБ ро╕рпНроХро┐ро░рпАройрпНро╖ро╛роЯрпНроХро│рпИ роОроЯрпБроХрпНроХ [`deviceDescriptors.ts`](https://github.com/webdriverio/visual-testing/blob/main/./packages/service/src/storybook/deviceDescriptors.ts) роЙроЯройрпН рокрпКро░рпБроирпНродрпБроорпН ро╡ро┤роЩрпНроХрокрпНрокроЯрпНроЯ роЪро╛родройроЩрпНроХро│рпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБроорпН

> [!NOTE]
>
> -   роТро░рпБ роЪро╛родрой роХроЯрпНроЯроорпИрокрпНрокрпИ роирпАроЩрпНроХро│рпН родро╡ро▒ро╡ро┐роЯрпНроЯро╛ро▓рпН, [роЕроорпНроЪ роХрпЛро░ро┐роХрпНроХрпИ](https://github.com/webdriverio/visual-testing/issues/new?assignees=&labels=&projects=&template=--feature-request.md) роРроЪрпН роЪрооро░рпНрокрпНрокро┐роХрпНроХродрпН родропроЩрпНроХро╛родрпАро░рпНроХро│рпН
> -   роЗродрпБ Chrome роЗро▓рпН роороЯрпНроЯрпБроорпЗ ро╡рпЗро▓рпИ роЪрпЖропрпНропрпБроорпН:
>     -   роирпАроЩрпНроХро│рпН `--devices` ро╡ро┤роЩрпНроХро┐ройро╛ро▓рпН, роЕройрпИродрпНродрпБ Chrome роиро┐роХро┤рпНро╡рпБроХро│рпБроорпН **роорпКрокрпИро▓рпН роОроорпБро▓рпЗро╖ройрпН** роорпБро▒рпИропро┐ро▓рпН роЗропроЩрпНроХрпБроорпН
>     -   роирпАроЩрпНроХро│рпН Chrome родро╡ро┐ро░ рооро▒рпНро▒ роЙро▓ро╛ро╡ро┐роХро│рпИропрпБроорпН ро╡ро┤роЩрпНроХро┐ройро╛ро▓рпН, роО.роХро╛. `--devices --browsers=firefox,safari,edge` роЗродрпБ родро╛ройро╛роХро╡рпЗ Chrome роР роорпКрокрпИро▓рпН роОроорпБро▓рпЗро╖ройрпН роорпБро▒рпИропро┐ро▓рпН роЪрпЗро░рпНроХрпНроХрпБроорпН
> -   Storybook ро░ройрпНройро░рпН роЗропро▓рпНрокро╛роХ роЙро▒рпБрокрпНрокрпБ ро╕рпНройро╛рокрпНро╖ро╛роЯрпНроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБроорпН, роорпБро┤рпБ роорпКрокрпИро▓рпН роОроорпБро▓рпЗроЯрпНроЯроЯрпН ро╕рпНроХро┐ро░рпАройрпНро╖ро╛роЯрпНроЯрпИроХрпН роХро╛рог ро╡ро┐ро░рпБроорпНрокро┐ройро╛ро▓рпН, роХроЯрпНроЯро│рпИ ро╡ро░ро┐ роорпВро▓роорпН `--clip=false` роР ро╡ро┤роЩрпНроХро╡рпБроорпН
> -   роХрпЛрокрпНрокрпБ рокрпЖропро░рпН роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯро╛роХ `__snapshots__/example/button/desktop_chrome/example-button--large-local-chrome-iPhone-14-Pro-Max-430x932-dpr-3.png` рокрпЛро▓рпН роЗро░рпБроХрпНроХрпБроорпН
> -   **[SRC:](https://chromedriver.chromium.org/mobile-emulation#h.p_ID_167)** роорпКрокрпИро▓рпН роОроорпБро▓рпЗро╖ройрпИрокрпН рокропройрпНрокроЯрпБродрпНродро┐ роЯрпЖро╕рпНроХрпНроЯро╛рокрпНрокро┐ро▓рпН роорпКрокрпИро▓рпН роЗрогрпИропродро│родрпНродрпИ роЪрпЛродро┐рокрпНрокродрпБ рокропройрпБро│рпНро│родро╛роХ роЗро░рпБроХрпНроХро▓ро╛роорпН, роЖройро╛ро▓рпН роЪрпЛродройрпИропро╛ро│ро░рпНроХро│рпН рокро┐ройрпНро╡ро░рпБроорпН рокро▓ роирпБроЯрпНрокрооро╛рой ро╡рпЗро▒рпБрокро╛роЯрпБроХро│рпН роЗро░рпБрокрпНрокродрпИ роЕро▒ро┐роирпНродро┐ро░рпБроХрпНроХ ро╡рпЗрогрпНроЯрпБроорпН:
>     -   роорпБро▒рпНро▒ро┐ро▓рпБроорпН ро╡ро┐родрпНродро┐ропро╛роЪрооро╛рой GPU, роЗродрпБ рокрпЖро░ро┐роп роЪрпЖропро▓рпНродро┐ро▒ройрпН рооро╛ро▒рпНро▒роЩрпНроХро│рпБроХрпНроХрпБ ро╡ро┤ро┐ро╡роХрпБроХрпНроХрпБроорпН;
>     -   роорпКрокрпИро▓рпН UI роорпБройрпНройро┐ро▓рпИрокрпНрокроЯрпБродрпНродрокрпНрокроЯро╡ро┐ро▓рпНро▓рпИ (роХрпБро▒ро┐рокрпНрокро╛роХ, url рокроЯрпНроЯро┐ропрпИ рооро▒рпИрокрпНрокродрпБ рокроХрпНроХ роЙропро░родрпНродрпИ рокро╛родро┐роХрпНроХро┐ро▒родрпБ);
>     -   родрпЖро│ро┐ро╡рпБрокроЯрпБродрпНродрпБроорпН рокро╛рокрпНроЕрокрпН (роЪро┐ро▓ родрпКроЯрпБ роЗро▓роХрпНроХрпБроХро│ро┐ро▓рпН роТройрпНро▒рпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХрпБроорпН роЗроЯроорпН) роЖродро░ро┐роХрпНроХрокрпНрокроЯро╡ро┐ро▓рпНро▓рпИ;
>     -   рокро▓ ро╣ро╛ро░рпНроЯрпБро╡рпЗро░рпН API роХро│рпН (роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯро╛роХ, orientationchange роиро┐роХро┤рпНро╡рпБ) роХро┐роЯрпИроХрпНроХро╡ро┐ро▓рпНро▓рпИ.

#### `--headless`

-   **ро╡роХрпИ:** `boolean`
-   **роХроЯрпНроЯро╛ропроорпН:** роЗро▓рпНро▓рпИ
-   **роЗропро▓рпНрокрпБроиро┐ро▓рпИ:** `true`
-   **роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --headless=false`
-   **роХрпБро▒ро┐рокрпНрокрпБ:** CLI роорпВро▓роорпН роороЯрпНроЯрпБроорпЗ роХро┐роЯрпИроХрпНроХрпБроорпН

роЗропро▓рпНрокро╛роХ роЗродрпБ роЪрпЛродройрпИроХро│рпИ (роЙро▓ро╛ро╡ро┐ роЖродро░ро┐роХрпНроХрпБроорпНрокрпЛродрпБ) headless роорпБро▒рпИропро┐ро▓рпН роЗропроХрпНроХрпБроорпН роЕро▓рпНро▓родрпБ роорпБроЯроХрпНроХрокрпНрокроЯро▓ро╛роорпН

#### `--numShards`

-   **ро╡роХрпИ:** `number`
-   **роХроЯрпНроЯро╛ропроорпН:** роЗро▓рпНро▓рпИ
-   **роЗропро▓рпНрокрпБроиро┐ро▓рпИ:** `true`
-   **роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --numShards=10`

роХродрпИроХро│рпИ роЗропроХрпНроХ рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН роЗрогрпИ роиро┐роХро┤рпНро╡рпБроХро│ро┐ройрпН роОрогрпНрогро┐роХрпНроХрпИ роЗродрпБро╡ро╛роХрпБроорпН. роЗродрпБ роЙроЩрпНроХро│рпН `wdio.conf`-роХрпЛрокрпНрокро┐ро▓рпН роЙро│рпНро│ `maxInstances` роЖро▓рпН ро╡ро░роорпНрокро┐роЯрокрпНрокроЯрпБроорпН.

> [!IMPORTANT]
> `headless`-роорпБро▒рпИропро┐ро▓рпН роЗропроХрпНроХрпБроорпНрокрпЛродрпБ, ро╡ро│ роХроЯрпНроЯрпБрокрпНрокро╛роЯрпБроХро│рпН роХро╛ро░рогрооро╛роХ роиро┐ро▓рпИродрпНродройрпНроорпИропрпИродрпН родроЯрпБроХрпНроХ роОрогрпНрогро┐роХрпНроХрпИропрпИ 20 роХрпНроХрпБ роорпЗро▓рпН роЕродро┐роХро░ро┐роХрпНроХ ро╡рпЗрогрпНроЯро╛роорпН

#### `--skipStories`

-   **ро╡роХрпИ:** `string|regex`
-   **роХроЯрпНроЯро╛ропроорпН:** роЗро▓рпНро▓рпИ
-   **роЗропро▓рпНрокрпБроиро┐ро▓рпИ:** null
-   **роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --skipStories="/.*button.*/gm"`

роЗродрпБ роЗро░рпБроХрпНроХро▓ро╛роорпН:

-   роТро░рпБ роЪро░роорпН (`example-button--secondary,example-button--small`)
-   роЕро▓рпНро▓родрпБ роТро░рпБ regex (`"/.*button.*/gm"`)

роЪро┐ро▓ роХродрпИроХро│рпИродрпН родро╡ро┐ро░рпНроХрпНроХ. роХродрпИропро┐ройрпН URL роЗро▓рпН роХро╛рогрокрпНрокроЯрпБроорпН `id` роРрокрпН рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН. роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯро╛роХ, роЗроирпНрод URL роЗро▓рпН `http://localhost:6006/?path=/story/example-page--logged-out` роЙро│рпНро│ `id` роОройрпНрокродрпБ `example-page--logged-out` роЖроХрпБроорпН

#### `--url`

-   **ро╡роХрпИ:** `string`
-   **роХроЯрпНроЯро╛ропроорпН:** роЗро▓рпНро▓рпИ
-   **роЗропро▓рпНрокрпБроиро┐ро▓рпИ:** `http://127.0.0.1:6006`
-   **роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --url="https://example.com"`

роЙроЩрпНроХро│рпН Storybook роиро┐роХро┤рпНро╡рпБ ро╣рпЛро╕рпНроЯрпН роЪрпЖропрпНропрокрпНрокроЯрпНроЯрпБро│рпНро│ URL.

#### `--version`

-   **ро╡роХрпИ:** `number`
-   **роХроЯрпНроЯро╛ропроорпН:** роЗро▓рпНро▓рпИ
-   **роЗропро▓рпНрокрпБроиро┐ро▓рпИ:** 7
-   **роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ:** `npx wdio tests/configs/wdio.local.desktop.storybook.conf.ts --storybook --version=6`

роЗродрпБ Storybook роЗройрпН рокродро┐рокрпНрокро╛роХрпБроорпН, роЗропро▓рпНрокро╛роХ `7` роЖроХрпБроорпН. V6 [`clipSelector`](#clipselector) рокропройрпНрокроЯрпБродрпНрод ро╡рпЗрогрпНроЯрпБрооро╛ роОройрпНрокродрпИ роЕро▒ро┐роп роЗродрпБ родрпЗро╡рпИ.

### Storybook роЗроЯрпИро╡ро┐ройрпИ роЪрпЛродройрпИ

Storybook роЗроЯрпИро╡ро┐ройрпИ роЪрпЛродройрпИ роЙроЩрпНроХро│рпН роХрпВро▒рпБроЯройрпН родрпКроЯро░рпНрокрпБроХрпКро│рпНро│ WDIO роХроЯрпНроЯро│рпИроХро│рпБроЯройрпН родройро┐рокрпНрокропройрпН ро╕рпНроХро┐ро░ро┐рокрпНроЯрпНроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБро╡родройрпН роорпВро▓роорпН роТро░рпБ роХрпБро▒ро┐рокрпНрокро┐роЯрпНроЯ роиро┐ро▓рпИропро┐ро▓рпН роТро░рпБ роХрпВро▒рпИ роЕроорпИроХрпНроХ роЕройрпБроородро┐роХрпНроХро┐ро▒родрпБ. роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯро╛роХ, роХрпАро┤рпЗ роЙро│рпНро│ роХрпБро▒ро┐ропрпАроЯрпНроЯрпБ родрпБрогрпБроХрпНроХрпИрокрпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН:

```ts
import { browser, expect } from "@wdio/globals";

describe("Storybook Interaction", () => {
    it("should create screenshots for the logged in state when it logs out", async () => {
        const componentId = "example-page--logged-in";
        await browser.waitForStorybookComponentToBeLoaded({ id: componentId });

        await expect($("header")).toMatchElementSnapshot(
            `${componentId}-logged-in-state`
        );
        await $("button=Log out").click();
        await expect($("header")).toMatchElementSnapshot(
            `${componentId}-logged-out-state`
        );
    });

    it("should create screenshots for the logged out state when it logs in", async () => {
        const componentId = "example-page--logged-out";
        await browser.waitForStorybookComponentToBeLoaded({ id: componentId });

        await expect($("header")).toMatchElementSnapshot(
            `${componentId}-logged-out-state`
        );
        await $("button=Log in").click();
        await expect($("header")).toMatchElementSnapshot(
            `${componentId}-logged-in-state`
        );
    });
});
```

роЗро░рогрпНроЯрпБ ро╡рпЖро╡рпНро╡рпЗро▒рпБ роХрпВро▒рпБроХро│ро┐ро▓рпН роЗро░рогрпНроЯрпБ роЪрпЛродройрпИроХро│рпН роЪрпЖропро▓рпНрокроЯрпБродрпНродрокрпНрокроЯрпБроХро┐ройрпНро▒рой. роТро╡рпНро╡рпКро░рпБ роЪрпЛродройрпИропрпБроорпН роорпБродро▓ро┐ро▓рпН роТро░рпБ роиро┐ро▓рпИропрпИ роЕроорпИродрпНродрпБ рокро┐ройрпНройро░рпН ро╕рпНроХро┐ро░рпАройрпНро╖ро╛роЯрпН роОроЯрпБроХрпНроХро┐ро▒родрпБ. роТро░рпБ рокрпБродро┐роп родройро┐рокрпНрокропройрпН роХроЯрпНроЯро│рпИ роЕро▒ро┐роорпБроХрокрпНрокроЯрпБродрпНродрокрпНрокроЯрпНроЯрпБро│рпНро│родрпИропрпБроорпН роирпАроЩрпНроХро│рпН роХро╡ройро┐рокрпНрокрпАро░рпНроХро│рпН, роЕродрпИ [роЗроЩрпНроХрпБ](#new-custom-command) роХро╛рогро▓ро╛роорпН.

роорпЗро▓рпЗ роЙро│рпНро│ ро╡ро┐ро╡ро░роХрпНроХрпБро▒ро┐рокрпНрокрпБ роХрпЛрокрпНрокрпИ роТро░рпБ роХрпЛрокрпНрокрпБро▒рпИропро┐ро▓рпН роЪрпЗрооро┐родрпНродрпБ рокро┐ройрпНро╡ро░рпБроорпН роХроЯрпНроЯро│рпИропрпБроЯройрпН роХроЯрпНроЯро│рпИ ро╡ро░ро┐роХрпНроХрпБроЪрпН роЪрпЗро░рпНроХрпНроХро▓ро╛роорпН:

```sh
pnpm run test.local.desktop.storybook.localhost -- --spec='tests/specs/storybook-interaction/*.ts'
```

Storybook ро░ройрпНройро░рпН роорпБродро▓ро┐ро▓рпН родро╛ройро╛роХро╡рпЗ роЙроЩрпНроХро│рпН Storybook роиро┐роХро┤рпНро╡рпИ ро╕рпНроХрпЗройрпН роЪрпЖропрпНродрпБ, рокро┐ройрпНройро░рпН роТрокрпНрокро┐роЯ ро╡рпЗрогрпНроЯро┐роп роХродрпИроХро│рпБроХрпНроХрпБ роЙроЩрпНроХро│рпН роЪрпЛродройрпИроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХрпБроорпН. роЗроЯрпИро╡ро┐ройрпИ роЪрпЛродройрпИроХрпНроХрпБ роирпАроЩрпНроХро│рпН рокропройрпНрокроЯрпБродрпНродрпБроорпН роХрпВро▒рпБроХро│рпН роЗро░рпБроорпБро▒рпИ роТрокрпНрокро┐роЯрокрпНрокроЯрпБро╡родрпИ ро╡ро┐ро░рпБроорпНрокро╡ро┐ро▓рпНро▓рпИ роОройрпНро▒ро╛ро▓рпН, ро╕рпНроХрпЗройро┐ро▓рпН роЗро░рпБроирпНродрпБ "роЗропро▓рпНрокрпБроиро┐ро▓рпИ" роХродрпИроХро│рпИ роЕроХро▒рпНро▒ [`--skipStories`](#--skipstories) ро╡роЯро┐рокрпНрокро╛ройрпИ ро╡ро┤роЩрпНроХрпБро╡родройрпН роорпВро▓роорпН ро╡роЯро┐роХроЯрпНроЯро┐ропрпИ роЪрпЗро░рпНроХрпНроХро▓ро╛роорпН. роЗродрпБ роЗро╡рпНро╡ро╛ро▒рпБ роЗро░рпБроХрпНроХрпБроорпН:

```sh
pnpm run test.local.desktop.storybook.localhost -- --skipStories="/example-page.*/gm" --spec='tests/specs/storybook-interaction/*.ts'
```

### рокрпБродро┐роп родройро┐рокрпНрокропройрпН роХроЯрпНроЯро│рпИ

`browser.waitForStorybookComponentToBeLoaded({ id: 'componentId' })` роОройрпНро▒ рокрпБродро┐роп родройро┐рокрпНрокропройрпН роХроЯрпНроЯро│рпИ `browser/driver`-рокрпКро░рпБро│рпБроХрпНроХрпБроЪрпН роЪрпЗро░рпНроХрпНроХрокрпНрокроЯрпБроорпН, роЗродрпБ родро╛ройро╛роХро╡рпЗ роХрпВро▒рпБроХро│рпИ роПро▒рпНро▒ро┐, роЕродрпБ роорпБроЯро┐ро╡роЯрпИропрпБроорпН ро╡ро░рпИ роХро╛родрпНродро┐ро░рпБроХрпНроХрпБроорпН, роОройро╡рпЗ роирпАроЩрпНроХро│рпН `browser.url('url.com')` роорпБро▒рпИропрпИрокрпН рокропройрпНрокроЯрпБродрпНрод ро╡рпЗрогрпНроЯро┐ропродро┐ро▓рпНро▓рпИ. роЗродрпИ роЗро╡рпНро╡ро╛ро▒рпБ рокропройрпНрокроЯрпБродрпНродро▓ро╛роорпН

```ts
import { browser, expect } from "@wdio/globals";

describe("Storybook Interaction", () => {
    it("should create screenshots for the logged in state when it logs out", async () => {
        const componentId = "example-page--logged-in";
        await browser.waitForStorybookComponentToBeLoaded({ id: componentId });

        await expect($("header")).toMatchElementSnapshot(
            `${componentId}-logged-in-state`
        );
        await $("button=Log out").click();
        await expect($("header")).toMatchElementSnapshot(
            `${componentId}-logged-out-state`
        );
    });

    it("should create screenshots for the logged out state when it logs in", async () => {
        const componentId = "example-page--logged-out";
        await browser.waitForStorybookComponentToBeLoaded({ id: componentId });

        await expect($("header")).toMatchElementSnapshot(
            `${componentId}-logged-out-state`
        );
        await $("button=Log in").click();
        await expect($("header")).toMatchElementSnapshot(
            `${componentId}-logged-in-state`
        );
    });
});
```

ро╡ро┐ро░рпБрокрпНрокроЩрпНроХро│рпН:

#### `additionalSearchParams`

-   **ро╡роХрпИ:** [`URLSearchParams`](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams)
-   **роХроЯрпНроЯро╛ропроорпН:** роЗро▓рпНро▓рпИ
-   **роЗропро▓рпНрокрпБроиро┐ро▓рпИ:** `new URLSearchParams()`
-   **роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ:**

```ts
await browser.waitForStorybookComponentToBeLoaded({
    additionalSearchParams: new URLSearchParams({ foo: "bar", abc: "def" }),
    id: "componentId",
});
```

роЗродрпБ Storybook URL роХрпНроХрпБ роХрпВроЯрпБродро▓рпН родрпЗроЯро▓рпН роЕро│ро╡рпБро░рпБроХрпНроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХрпБроорпН, роорпЗро▓рпЗ роЙро│рпНро│ роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯро┐ро▓рпН URL `http://storybook.url/iframe.html?id=story-id&foo=bar&abc=def` роЖроХ роЗро░рпБроХрпНроХрпБроорпН.
роорпЗро▓рпБроорпН родроХро╡ро▓рпБроХрпНроХрпБ [URLSearchParams](https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams) роЖро╡рогродрпНродрпИрокрпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН.

#### `clipSelector`

-   **ро╡роХрпИ:** `string`
-   **роХроЯрпНроЯро╛ропроорпН:** роЗро▓рпНро▓рпИ
-   **роЗропро▓рпНрокрпБроиро┐ро▓рпИ:** Storybook V7 роХрпНроХрпБ `#storybook-root > :first-child` рооро▒рпНро▒рпБроорпН Storybook V6 роХрпНроХрпБ `#root > :first-child:not(script):not(style)`
-   **роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ:**

```ts
await browser.waitForStorybookComponentToBeLoaded({
    clipSelector: "#your-selector",
    id: "componentId",
});
```

роЗродрпБ рокро┐ройрпНро╡ро░рпБро╡ройро╡ро▒рпНро▒ро┐ро▒рпНроХрпБрокрпН рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯрпБроорпН родрпЗро░рпНро╡ро┐ропро╛роХрпБроорпН:

-   ро╕рпНроХро┐ро░рпАройрпНро╖ро╛роЯрпН роОроЯрпБроХрпНроХ ро╡рпЗрогрпНроЯро┐роп роЙро▒рпБрокрпНрокрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХ
-   ро╕рпНроХро┐ро░рпАройрпНро╖ро╛роЯрпН роОроЯрпБроХрпНроХрокрпНрокроЯрпБро╡родро▒рпНроХрпБ роорпБройрпН родрпЖро░ро┐ропроХрпНроХрпВроЯро┐роп роЙро▒рпБрокрпНрокрпБроХрпНроХро╛роХ роХро╛родрпНродро┐ро░рпБроХрпНроХ

#### `id`

-   **ро╡роХрпИ:** `string`
-   **роХроЯрпНроЯро╛ропроорпН:** роЖроорпН
-   **роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ:**

```ts
await browser.waitForStorybookComponentToBeLoaded({ '#your-selector', id: 'componentId' })
```

роХродрпИропро┐ройрпН URL роЗро▓рпН роХро╛рогрокрпНрокроЯрпБроорпН `id` роРрокрпН рокропройрпНрокроЯрпБродрпНродро╡рпБроорпН. роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯро╛роХ, роЗроирпНрод URL роЗро▓рпН `http://localhost:6006/?path=/story/example-page--logged-out` роЙро│рпНро│ `id` роОройрпНрокродрпБ `example-page--logged-out` роЖроХрпБроорпН

#### `timeout`

-   **ро╡роХрпИ:** `number`
-   **роХроЯрпНроЯро╛ропроорпН:** роЗро▓рпНро▓рпИ
-   **роЗропро▓рпНрокрпБроиро┐ро▓рпИ:** 1100 рооро┐ро▓рпНро▓ро┐ ро╡ро┐ройро╛роЯро┐роХро│рпН
-   **роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ:**

```ts
await browser.waitForStorybookComponentToBeLoaded({
    id: "componentId",
    timeout: 20000,
});
```

рокроХрпНроХродрпНродро┐ро▓рпН роПро▒рпНро▒ро┐роп рокро┐ро▒роХрпБ роТро░рпБ роХрпВро▒рпБ родрпЖро░ро┐ропроХрпНроХрпВроЯро┐ропродро╛роХ роЗро░рпБроХрпНроХ роиро╛роЩрпНроХро│рпН роХро╛родрпНродро┐ро░рпБроХрпНроХ ро╡ро┐ро░рпБроорпНрокрпБроорпН роЕродро┐роХрокроЯрпНроЪ роирпЗро░роорпН

#### `url`

-   **ро╡роХрпИ:** `string`
-   **роХроЯрпНроЯро╛ропроорпН:** роЗро▓рпНро▓рпИ
-   **роЗропро▓рпНрокрпБроиро┐ро▓рпИ:** `http://127.0.0.1:6006`
-   **роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпБ:**

```ts
await browser.waitForStorybookComponentToBeLoaded({
    id: "componentId",
    url: "https://your.url",
});
```

роЙроЩрпНроХро│рпН Storybook роиро┐роХро┤рпНро╡рпБ ро╣рпЛро╕рпНроЯрпН роЪрпЖропрпНропрокрпНрокроЯрпНроЯрпБро│рпНро│ URL.

</details>

## рокроЩрпНроХро│ро┐рокрпНрокрпБ

### родрпКроХрпБрокрпНрокрпБроХро│рпИ рокрпБродрпБрокрпНрокро┐родрпНродро▓рпН

роирпАроЩрпНроХро│рпН роОро│ро┐роп CLI роХро░рпБро╡ро┐ропрпБроЯройрпН родрпКроХрпБрокрпНрокрпБроХро│рпИрокрпН рокрпБродрпБрокрпНрокро┐роХрпНроХро▓ро╛роорпН. роЕройрпИродрпНродрпБ роЪро╛ро░рпНрокрпБроХро│рпИропрпБроорпН роиро┐ро▒рпБро╡ро┐ропрпБро│рпНро│рпАро░рпНроХро│рпН роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро┐роХрпН роХрпКро│рпНро│рпБроЩрпНроХро│рпН, рокро┐ройрпНройро░рпН роЗропроХрпНроХро▓ро╛роорпН

```sh
pnpm update.packages
```

роЗродрпБ рокро┐ройрпНро╡ро░рпБроорпН роХрпЗро│рпНро╡ро┐роХро│рпИ роЙроЩрпНроХро│ро┐роЯроорпН роХрпЗроЯрпНроХрпБроорпН роТро░рпБ CLI роРродрпН родрпВрогрпНроЯрпБроорпН

```logs
==========================
ЁЯдЦ Package update Wizard ЁЯзЩ
==========================

? Which version target would you like to update to? (Minor|Latest)
? Do you want to update the package.json files? (Y/n)
? Do you want to remove all "node_modules" and reinstall dependencies? (Y/n)
? Would you like reinstall the dependencies? (Y/n)
```

роЗродрпБ рокро┐ройрпНро╡ро░рпБроорпН рокродро┐ро╡рпБроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХрпБроорпН

<details>
    <summary>рокродро┐ро╡рпБроХро│ро┐ройрпН роОроЯрпБродрпНродрпБроХрпНроХро╛роЯрпНроЯрпИроХрпН роХро╛рог родро┐ро▒роХрпНроХро╡рпБроорпН</summary>
    
```logs
==========================
ЁЯдЦ Package update Wizard ЁЯзЩ
==========================

? Which version target would you like to update to? Minor
? Do you want to update the package.json files? yes
Updating root 'package.json' for minor updates...
Updating packages for minor updates in /Users/wswebcreation/Git/wdio/visual-testing...
Using pnpm
Upgrading /Users/wswebcreation/Git/wdio/visual-testing/package.json
[====================] 38/38 100%

@typescript-eslint/eslint-plugin ^8.7.0 тЖТ ^8.8.0
@typescript-eslint/parser ^8.7.0 тЖТ ^8.8.0
@typescript-eslint/utils ^8.7.0 тЖТ ^8.8.0
@vitest/coverage-v8 ^2.1.1 тЖТ ^2.1.2
vitest ^2.1.1 тЖТ ^2.1.2

Run pnpm install to install new versions.
Updating packages for minor updates in /Users/wswebcreation/Git/wdio/visual-testing/packages/ocr-service...
Using pnpm
Upgrading /Users/wswebcreation/Git/wdio/visual-testing/packages/ocr-service/package.json
[====================] 11/11 100%

All dependencies match the minor package versions :)
Updating packages for minor updates in /Users/wswebcreation/Git/wdio/visual-testing/packages/visual-reporter...
Using pnpm
Upgrading /Users/wswebcreation/Git/wdio/visual-testing/packages/visual-reporter/package.json
[====================] 11/11 100%

eslint-config-next 14.2.13 тЖТ 14.2.14
next 14.2.13 тЖТ 14.2.14

Run pnpm install to install new versions.
Updating packages for minor updates in /Users/wswebcreation/Git/wdio/visual-testing/packages/visual-service...
Using pnpm
Upgrading /Users/wswebcreation/Git/wdio/visual-testing/packages/visual-service/package.json
[====================] 5/5 100%

All dependencies match the minor package versions :)
Updating packages for minor updates in /Users/wswebcreation/Git/wdio/visual-testing/packages/webdriver-image-comparison...
Using pnpm
Upgrading /Users/wswebcreation/Git/wdio/visual-testing/packages/webdriver-image-comparison/package.json
[====================] 8/8 100%

All dependencies match the minor package versions :)
? Do you want to remove all "node_modules" and reinstall dependencies? yes
Removing root dependencies in /Users/wswebcreation/Git/wdio/visual-testing...
Removing dependencies in ocr-service...
Removing dependencies in visual-reporter...
Removing dependencies in visual-service...
Removing dependencies in webdriver-image-comparison...
? Would you like reinstall the dependencies? yes
Installing dependencies in /Users/wswebcreation/Git/wdio/visual-testing...

> @wdio/visual-testing-monorepo@ pnpm.install.workaround /Users/wswebcreation/Git/wdio/visual-testing
> pnpm install --shamefully-hoist

Scope: all 5 workspace projects
Lockfile is up to date, resolution step is skipped
Packages: +1274
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Progress: resolved 1274, reused 1265, downloaded 0, added 1274, done

dependencies:

-   @wdio/ocr-service 2.0.0 <- packages/ocr-service
-   @wdio/visual-service 6.0.0 <- packages/visual-service

devDependencies:

-   @changesets/cli 2.27.8
-   @inquirer/prompts 5.5.0
-   @tsconfig/node20 20.1.4
-   @types/eslint 9.6.1
-   @types/jsdom 21.1.7
-   @types/node 20.16.4
-   @types/react 18.3.5
-   @types/react-dom 18.3.0
-   @types/xml2js 0.4.14
-   @typescript-eslint/eslint-plugin 8.8.0
-   @typescript-eslint/parser 8.8.0
-   @typescript-eslint/utils 8.8.0
-   @vitest/coverage-v8 2.1.2
-   @wdio/appium-service 9.1.2
-   @wdio/cli 9.1.2
-   @wdio/globals 9.1.2
-   @wdio/local-runner 9.1.2
-   @wdio/mocha-framework 9.1.2
-   @wdio/sauce-service 9.1.2
-   @wdio/shared-store-service 9.1.2
-   @wdio/spec-reporter 9.1.2
-   @wdio/types 9.1.2
-   eslint 9.11.1
-   eslint-plugin-import 2.30.0
-   eslint-plugin-unicorn 55.0.0
-   eslint-plugin-wdio 9.0.8
-   husky 9.1.6
-   jsdom 25.0.1
-   pnpm-run-all2 6.2.3
-   release-it 17.6.0
-   rimraf 6.0.1
-   saucelabs 8.0.0
-   ts-node 10.9.2
-   typescript 5.6.2
-   vitest 2.1.2
-   webdriverio 9.1.2

. prepare$ husky
тФФтФА Done in 204ms
Done in 9.5s
All packages updated!

````

</details>

### роХрпЗро│рпНро╡ро┐роХро│рпН

роЗроирпНрод родро┐роЯрпНроЯродрпНродро┐ро▒рпНроХрпБрокрпН рокроЩрпНроХро│ро┐рокрпНрокродро┐ро▓рпН роЙроЩрпНроХро│рпБроХрпНроХрпБ роПродрпЗройрпБроорпН роХрпЗро│рпНро╡ро┐роХро│рпН роЕро▓рпНро▓родрпБ роЪро┐роХрпНроХро▓рпНроХро│рпН роЗро░рпБроирпНродро╛ро▓рпН, роОроЩрпНроХро│рпН [Discord](https://discord.webdriver.io) роЪрпЗро╡рпИропроХродрпНродро┐ро▓рпН роЪрпЗро░ро╡рпБроорпН. `ЁЯЩП-contributing` роЪрпЗройро▓ро┐ро▓рпН рокроЩрпНроХро│ро┐рокрпНрокро╛ро│ро░рпНроХро│рпИрокрпН рокро┐роЯро┐роХрпНроХро╡рпБроорпН.

### роЪро┐роХрпНроХро▓рпНроХро│рпН

роЙроЩрпНроХро│рпБроХрпНроХрпБ роХрпЗро│рпНро╡ро┐роХро│рпН, рокро┐ро┤рпИроХро│рпН роЕро▓рпНро▓родрпБ роЕроорпНроЪ роХрпЛро░ро┐роХрпНроХрпИроХро│рпН роЗро░рпБроирпНродро╛ро▓рпН, родропро╡рпБроЪрпЖропрпНродрпБ роТро░рпБ роЪро┐роХрпНроХро▓рпИродрпН родро╛роХрпНроХро▓рпН роЪрпЖропрпНропро╡рпБроорпН. роТро░рпБ роЪро┐роХрпНроХро▓рпИроЪрпН роЪрооро░рпНрокрпНрокро┐рокрпНрокродро▒рпНроХрпБ роорпБройрпН, роироХро▓рпНроХро│рпИроХрпН роХрпБро▒рпИроХрпНроХ роЙродро╡ роЪро┐роХрпНроХро▓рпН роХро╛рокрпНрокроХродрпНродрпИродрпН родрпЗроЯро╡рпБроорпН, рооро▒рпНро▒рпБроорпН [FAQ](https://webdriver.io/docs/visual-testing/faq/) роРрокрпН рокроЯро┐роХрпНроХро╡рпБроорпН.

роЕроЩрпНроХрпБ роХрогрпНроЯрпБрокро┐роЯро┐роХрпНроХ роорпБроЯро┐ропро╡ро┐ро▓рпНро▓рпИ роОройрпНро▒ро╛ро▓рпН, роирпАроЩрпНроХро│рпН роЪрооро░рпНрокрпНрокро┐роХрпНроХроХрпНроХрпВроЯро┐роп роТро░рпБ роЪро┐роХрпНроХро▓рпИ роЪрооро░рпНрокрпНрокро┐роХрпНроХро▓ро╛роорпН:

-   ЁЯРЫ**рокро┐ро┤рпИ роЕро▒ро┐роХрпНроХрпИ**: роиро╛роЩрпНроХро│рпН роорпЗроорпНрокроЯрпБродрпНрод роЙродро╡ роТро░рпБ роЕро▒ро┐роХрпНроХрпИропрпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН
-   ЁЯУЦ**роЖро╡рогроЩрпНроХро│рпН**: роорпБройрпНройрпЗро▒рпНро▒роЩрпНроХро│рпИ рокро░ро┐роирпНродрпБро░рпИроХрпНроХро╡рпБроорпН роЕро▓рпНро▓родрпБ роХро╛рогро╛рооро▓рпН рокрпЛрой/родрпЖро│ро┐ро╡ро▒рпНро▒ роЖро╡рогроЩрпНроХро│рпИ рокрпБроХро╛ро░ро│ро┐роХрпНроХро╡рпБроорпН.
-   ЁЯТб**роЕроорпНроЪ роХрпЛро░ро┐роХрпНроХрпИ**: роЗроирпНрод родрпКроХрпБродро┐роХрпНроХро╛рой ропрпЛроЪройрпИропрпИ рокро░ро┐роирпНродрпБро░рпИроХрпНроХро╡рпБроорпН.
-   ЁЯТм**роХрпЗро│рпНро╡ро┐**: роХрпЗро│рпНро╡ро┐роХро│рпИроХрпН роХрпЗро│рпБроЩрпНроХро│рпН.

### роорпЗроорпНрокро╛роЯрпНроЯрпБ ро╡ро┤ро┐роорпБро▒рпИ

роЗроирпНрод родро┐роЯрпНроЯродрпНродро┐ро▒рпНроХро╛рой PR роР роЙро░рпБро╡ро╛роХрпНроХро┐ рокроЩрпНроХро│ро┐роХрпНроХродрпН родрпКроЯроЩрпНроХ роЗроирпНрод рокроЯро┐рокрпНрокроЯро┐ропро╛рой ро╡ро┤ро┐роХро╛роЯрпНроЯро┐ропрпИрокрпН рокро┐ройрпНрокро▒рпНро▒ро╡рпБроорпН:

-   родро┐роЯрпНроЯродрпНродрпИ роГрокрпЛро░рпНроХрпН роЪрпЖропрпНропро╡рпБроорпН.
-   родро┐роЯрпНроЯродрпНродрпИ роЙроЩрпНроХро│рпН роХрогро┐ройро┐ропро┐ро▓рпН роОроЩрпНроХро╛ро╡родрпБ роХрпБро│рпЛройрпН роЪрпЖропрпНропро╡рпБроорпН

    ```sh
    $ git clone https://github.com/webdriverio/visual-testing.git
    ```

-   роЕроЯрпИро╡рпБроХрпНроХрпБроЪрпН роЪрпЖройрпНро▒рпБ родро┐роЯрпНроЯродрпНродрпИ роЕроорпИроХрпНроХро╡рпБроорпН

    ```sh
    $ cd visual-testing
    $ corepack enable
    $ pnpm pnpm.install.workaround
    ```

-   роХрпБро▒ро┐ропрпАроЯрпНроЯрпИродрпН родро╛ройро╛роХро╡рпЗ transpile роЪрпЖропрпНропрпБроорпН ро╡ро╛роЯрпНроЪрпН роорпБро▒рпИропрпИ роЗропроХрпНроХро╡рпБроорпН

    ```sh
    $ pnpm watch
    ```

    родро┐роЯрпНроЯродрпНродрпИ роЙро░рпБро╡ро╛роХрпНроХ, роЗропроХрпНроХро╡рпБроорпН:

    ```sh
    $ pnpm build
    ```

-   роЙроЩрпНроХро│рпН рооро╛ро▒рпНро▒роЩрпНроХро│рпН роОроирпНродроЪрпН роЪрпЛродройрпИроХро│рпИропрпБроорпН роЙроЯрпИроХрпНроХро╛родрпБ роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро╡рпБроорпН, роЗропроХрпНроХро╡рпБроорпН:

    ```sh
    $ pnpm test
    ```

роЗроирпНрод родро┐роЯрпНроЯроорпН changelog роХро│рпИ рооро▒рпНро▒рпБроорпН ро╡рпЖро│ро┐ропрпАроЯрпБроХро│рпИ родро╛ройро╛роХро╡рпЗ роЙро░рпБро╡ро╛роХрпНроХ [changesets](https://github.com/changesets/changesets) роРрокрпН рокропройрпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ.

### роЪрпЛродройрпИ

родрпКроХрпБродро┐ропрпИроЪрпН роЪрпЛродро┐роХрпНроХ рокро▓ роЪрпЛродройрпИроХро│рпИ роЪрпЖропро▓рпНрокроЯрпБродрпНрод ро╡рпЗрогрпНроЯрпБроорпН. PR роЪрпЗро░рпНроХрпНроХрпБроорпНрокрпЛродрпБ роЕройрпИродрпНродрпБ роЪрпЛродройрпИроХро│рпБроорпН роХрпБро▒рпИроирпНродрокроЯрпНроЪроорпН роЙро│рпНро│рпВро░рпН роЪрпЛродройрпИроХро│рпИродрпН родрпЗро░рпНроЪрпНроЪро┐ рокрпЖро▒ ро╡рпЗрогрпНроЯрпБроорпН. роТро╡рпНро╡рпКро░рпБ PR роорпН Sauce Labs роХрпНроХрпБ роОродро┐ро░ро╛роХ родро╛ройро╛роХро╡рпЗ роЪрпЛродро┐роХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ, [роОроЩрпНроХро│рпН GitHub Actions рокрпИрокрпНро▓рпИройрпН](https://github.com/webdriverio/visual-testing/actions/workflows/tests.yml) роРрокрпН рокро╛ро░рпНроХрпНроХро╡рпБроорпН. PR роР роЕроЩрпНроХрпАроХро░ро┐рокрпНрокродро▒рпНроХрпБ роорпБройрпН, роорпБроХрпНроХро┐роп рокроЩрпНроХро│ро┐рокрпНрокро╛ро│ро░рпНроХро│рпН PR роР роОроорпБро▓рпЗроЯрпНроЯро░рпНроХро│рпН/роЪро┐роорпБро▓рпЗроЯрпНроЯро░рпНроХро│рпН / роЙрогрпНроорпИропро╛рой роЪро╛родройроЩрпНроХро│рпБроХрпНроХрпБ роОродро┐ро░ро╛роХ роЪрпЛродро┐рокрпНрокро╛ро░рпНроХро│рпН.

#### роЙро│рпНро│рпВро░рпН роЪрпЛродройрпИ

роорпБродро▓ро┐ро▓рпН, роТро░рпБ роЙро│рпНро│рпВро░рпН роЕроЯро┐рокрпНрокроЯрпИ роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роЗродрпИ роЪрпЖропрпНропро▓ро╛роорпН:

```sh
// ро╡рпЖрокрпНроЯро┐ро░рпИро╡ро░рпН роирпЖро▒ро┐роорпБро▒рпИропрпБроЯройрпН
$ pnpm run test.local.init
````

роЗроирпНрод роХроЯрпНроЯро│рпИ роЕройрпИродрпНродрпБ роЕроЯро┐рокрпНрокроЯрпИ рокроЯроЩрпНроХро│рпИропрпБроорпН ро╡рпИродрпНродро┐ро░рпБроХрпНроХрпБроорпН `localBaseline` роОройрпНро▒ роХрпЛрокрпНрокрпБро▒рпИропрпИ роЙро░рпБро╡ро╛роХрпНроХрпБроорпН.

рокро┐ройрпНройро░рпН роЗропроХрпНроХро╡рпБроорпН:

```sh
// ро╡рпЖрокрпНроЯро┐ро░рпИро╡ро░рпН роирпЖро▒ро┐роорпБро▒рпИропрпБроЯройрпН
pnpm run test.local.desktop
```

роЗродрпБ роЙро│рпНро│рпВро░рпН роЗропроирпНродро┐ро░родрпНродро┐ро▓рпН Chrome роЗро▓рпН роЕройрпИродрпНродрпБ роЪрпЛродройрпИроХро│рпИропрпБроорпН роЗропроХрпНроХрпБроорпН.

#### роЙро│рпНро│рпВро░рпН Storybook ро░ройрпНройро░рпН роЪрпЛродройрпИ (рокрпАроЯрпНроЯро╛)

роорпБродро▓ро┐ро▓рпН, роТро░рпБ роЙро│рпНро│рпВро░рпН роЕроЯро┐рокрпНрокроЯрпИ роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН. роЗродрпИ роЪрпЖропрпНропро▓ро╛роорпН:

```sh
pnpm run test.local.desktop.storybook
```

роЗродрпБ https://govuk-react.github.io/govuk-react/ роЗро▓рпН роЙро│рпНро│ роЯрпЖроорпЛ Storybook ро░рпЖрокрпНрокрпЛро╡ро┐ро▒рпНроХрпБ роОродро┐ро░ро╛роХ headless роорпБро▒рпИропро┐ро▓рпН Chrome роЙроЯройрпН Storybook роЪрпЛродройрпИроХро│рпИ роЗропроХрпНроХрпБроорпН.

роорпЗро▓рпБроорпН роЙро▓ро╛ро╡ро┐роХро│рпБроЯройрпН роЪрпЛродройрпИроХро│рпИ роЗропроХрпНроХ, роирпАроЩрпНроХро│рпН роЗропроХрпНроХро▓ро╛роорпН

```sh
pnpm run test.local.desktop.storybook -- --browsers=chrome,firefox,edge,safari
```

> [!NOTE]
> роирпАроЩрпНроХро│рпН роЗропроХрпНроХ ро╡ро┐ро░рпБроорпНрокрпБроорпН роЙро▓ро╛ро╡ро┐роХро│рпИ роЙроЩрпНроХро│рпН роЙро│рпНро│рпВро░рпН роЗропроирпНродро┐ро░родрпНродро┐ро▓рпН роиро┐ро▒рпБро╡ро┐ропрпБро│рпНро│рпАро░рпНроХро│рпН роОройрпНрокродрпИ роЙро▒рпБродро┐рокрпНрокроЯрпБродрпНродро┐роХрпН роХрпКро│рпНро│рпБроЩрпНроХро│рпН

#### Sauce Labs роЙроЯройрпН CI роЪрпЛродройрпИ (PR роХрпНроХрпБ родрпЗро╡рпИропро┐ро▓рпНро▓рпИ)

роХрпАро┤рпЗ роЙро│рпНро│ роХроЯрпНроЯро│рпИ GitHub Actions роЗро▓рпН рокро┐ро▓рпНроЯрпИроЪрпН роЪрпЛродро┐роХрпНроХрокрпН рокропройрпНрокроЯрпБроХро┐ро▒родрпБ, роЗродрпБ роЕроЩрпНроХрпБ роороЯрпНроЯрпБроорпЗ рокропройрпНрокроЯрпБродрпНродрокрпНрокроЯро▓ро╛роорпН, роЙро│рпНро│рпВро░рпН роорпЗроорпНрокро╛роЯрпНроЯро┐ро▒рпНроХрпБ роЕро▓рпНро▓.

```
$ pnpm run test.saucelabs
```

роЗродрпБ [роЗроЩрпНроХрпЗ](https://github.com/webdriverio/visual-testing/blob/main/./tests/configs/wdio.saucelabs.web.conf.ts) роХро╛рогрокрпНрокроЯрпБроорпН рокро▓ роЙро│рпНро│роорпИро╡рпБроХро│рпБроХрпНроХрпБ роОродро┐ро░ро╛роХ роЪрпЛродро┐роХрпНроХрпБроорпН.
роЕройрпИродрпНродрпБ PR роХро│рпБроорпН Sauce Labs роХрпНроХрпБ роОродро┐ро░ро╛роХ родро╛ройро╛роХро╡рпЗ роЪро░ро┐рокро╛ро░рпНроХрпНроХрокрпНрокроЯрпБроХро┐ройрпНро▒рой.

## ро╡рпЖро│ро┐ропрпАроЯрпБ

роорпЗро▓рпЗ рокроЯрпНроЯро┐ропро▓ро┐роЯрокрпНрокроЯрпНроЯрпБро│рпНро│ роПродрпЗройрпБроорпН родрпКроХрпБрокрпНрокрпБроХро│ро┐ройрпН рокродро┐рокрпНрокрпИ ро╡рпЖро│ро┐ропро┐роЯ, рокро┐ройрпНро╡ро░рпБро╡ройро╡ро▒рпНро▒рпИроЪрпН роЪрпЖропрпНропро╡рпБроорпН:

-   [ро╡рпЖро│ро┐ропрпАроЯрпНроЯрпБ рокрпИрокрпНро▓рпИройрпН](https://github.com/webdriverio/visual-testing/actions/workflows/release.yml) роРродрпН родрпВрогрпНроЯро╡рпБроорпН
-   роТро░рпБ ро╡рпЖро│ро┐ропрпАроЯрпНроЯрпБ PR роЙро░рпБро╡ро╛роХрпНроХрокрпНрокроЯрпБроХро┐ро▒родрпБ, роЗродрпБ рооро▒рпНро▒рпКро░рпБ WebdriverIO роЙро▒рпБрокрпНрокро┐ройро░ро╛ро▓рпН роородро┐рокрпНрокро╛ропрпНро╡рпБ роЪрпЖропрпНропрокрпНрокроЯрпНроЯрпБ роЕроЩрпНроХрпАроХро░ро┐роХрпНроХрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН
-   PR роР роЗрогрпИроХрпНроХро╡рпБроорпН
-   [ро╡рпЖро│ро┐ропрпАроЯрпНроЯрпБ рокрпИрокрпНро▓рпИройрпН](https://github.com/webdriverio/visual-testing/actions/workflows/release.yml) роР роорпАрогрпНроЯрпБроорпН родрпВрогрпНроЯро╡рпБроорпН
-   роТро░рпБ рокрпБродро┐роп рокродро┐рокрпНрокрпБ ро╡рпЖро│ро┐ропро┐роЯрокрпНрокроЯ ро╡рпЗрогрпНроЯрпБроорпН ЁЯОЙ

## роиройрпНро▒ро┐

`@wdio/visual-testing` [LambdaTest](https://www.lambdatest.com/) рооро▒рпНро▒рпБроорпН [Sauce Labs](https://saucelabs.com/) роЗро▓ро┐ро░рпБроирпНродрпБ роУрокрпНрокройрпН роЪрпЛро░рпНро╕рпН роЙро░ро┐роородрпНродрпИрокрпН рокропройрпНрокроЯрпБродрпНродрпБроХро┐ро▒родрпБ.