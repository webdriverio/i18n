---
id: mobile
title: Εντολές Κινητών Συσκευών
---

# Introduction to custom and enhanced Mobile Commands in WebdriverIO

Ο έλεγχος εφαρμογών κινητών συσκευών και εφαρμογών ιστού για κινητά έρχεται με τις δικές του προκλήσεις, ειδικά όταν πρόκειται για διαφορές μεταξύ πλατφορμών Android και iOS. Ενώ το Appium παρέχει την ευελιξία για την αντιμετώπιση αυτών των διαφορών, συχνά απαιτεί να εμβαθύνετε σε πολύπλοκη τεκμηρίωση εξαρτώμενη από την πλατφόρμα ([Android](https://github.com/appium/appium-uiautomator2-driver/blob/master/docs/android-mobile-gestures.md), [iOS](https://appium.github.io/appium-xcuitest-driver/latest/reference/execute-methods/)) και εντολές. Αυτό μπορεί να καταστήσει τη συγγραφή δοκιμαστικών σεναρίων πιο χρονοβόρα, επιρρεπή σε σφάλματα και δύσκολη στη συντήρηση.

Για να απλοποιήσει τη διαδικασία, το WebdriverIO εισάγει **προσαρμοσμένες και βελτιωμένες εντολές κινητών** προσαρμοσμένες ειδικά για δοκιμές ιστού κινητών και εγγενών εφαρμογών. Αυτές οι εντολές αφαιρούν την πολυπλοκότητα των υποκείμενων API του Appium, επιτρέποντάς σας να γράψετε συνοπτικά, διαισθητικά και ανεξάρτητα από την πλατφόρμα δοκιμαστικά σενάρια. Εστιάζοντας στην ευκολία χρήσης, στοχεύουμε στη μείωση του επιπλέον φόρτου κατά την ανάπτυξη σεναρίων Appium και στην ενδυνάμωσή σας για τον αυτοματισμό εφαρμογών κινητών χωρίς κόπο.

<LiteYouTubeEmbed
    id="tN0LmKgWjPw"
    title="WebdriverIO Tutorials - Enhanced Mobile Commands"
/>

## Why Custom Mobile Commands?

### 1. **Simplifying Complex APIs**
Ορισμένες εντολές Appium, όπως οι χειρονομίες ή οι αλληλεπιδράσεις στοιχείων, περιλαμβάνουν πολύλογη και πολύπλοκη σύνταξη. Για παράδειγμα, η εκτέλεση μιας ενέργειας παρατεταμένου πατήματος με το εγγενές API Appium απαιτεί τη χειροκίνητη κατασκευή μιας αλυσίδας `action`:

```ts
const element = $('~Contacts')

await browser
    .action( 'pointer', { parameters: { pointerType: 'touch' } })
    .move({ origin: element })
    .down()
    .pause(1500)
    .up()
    .perform()
```

Με τις προσαρμοσμένες εντολές του WebdriverIO, η ίδια ενέργεια μπορεί να εκτελεστεί με μία μόνο, εκφραστική γραμμή κώδικα:

```ts
await $('~Contacts').longPress();
```

Αυτό μειώνει δραστικά τον επαναλαμβανόμενο κώδικα, κάνοντας τα σενάριά σας πιο καθαρά και ευκολότερα στην κατανόηση.

### 2. **Cross-Platform Abstraction**
Οι εφαρμογές κινητών συχνά απαιτούν χειρισμό ειδικό για την πλατφόρμα. Για παράδειγμα, η κύλιση σε εγγενείς εφαρμογές διαφέρει σημαντικά μεταξύ [Android](https://github.com/appium/appium-uiautomator2-driver/blob/master/docs/android-mobile-gestures.md#mobile-scrollgesture) και [iOS](https://appium.github.io/appium-xcuitest-driver/latest/reference/execute-methods/#mobile-scroll). Το WebdriverIO γεφυρώνει αυτό το χάσμα παρέχοντας ενοποιημένες εντολές όπως το `scrollIntoView()` που λειτουργούν απρόσκοπτα σε όλες τις πλατφόρμες, ανεξάρτητα από την υποκείμενη υλοποίηση.

```ts
await $('~element').scrollIntoView();
```

Αυτή η αφαίρεση διασφαλίζει ότι οι δοκιμές σας είναι φορητές και δεν απαιτούν συνεχή διακλάδωση ή συνθήκες λογικής για να λάβουν υπόψη τις διαφορές λειτουργικού συστήματος.

### 3. **Increased Productivity**
Μειώνοντας την ανάγκη κατανόησης και εφαρμογής εντολών Appium χαμηλού επιπέδου, οι εντολές κινητών του WebdriverIO σας επιτρέπουν να επικεντρωθείτε στη δοκιμή της λειτουργικότητας της εφαρμογής σας αντί να παλεύετε με ιδιαιτερότητες συγκεκριμένης πλατφόρμας. Αυτό είναι ιδιαίτερα επωφελές για ομάδες με περιορισμένη εμπειρία στον αυτοματισμό κινητών ή εκείνες που επιδιώκουν να επιταχύνουν τον κύκλο ανάπτυξής τους.

### 4. **Consistency and Maintainability**
Οι προσαρμοσμένες εντολές φέρνουν ομοιομορφία στα δοκιμαστικά σας σενάρια. Αντί να έχετε διαφορετικές υλοποιήσεις για παρόμοιες ενέργειες, η ομάδα σας μπορεί να βασιστεί σε τυποποιημένες, επαναχρησιμοποιήσιμες εντολές. Αυτό όχι μόνο καθιστά τον κώδικα πιο συντηρήσιμο, αλλά επίσης μειώνει το εμπόδιο για την ένταξη νέων μελών στην ομάδα.

## Why enhance certain mobile commands?

### 1. Adding Flexibility
Ορισμένες εντολές κινητών βελτιώνονται για να παρέχουν πρόσθετες επιλογές και παραμέτρους που δεν είναι διαθέσιμες στα προεπιλεγμένα API του Appium. Για παράδειγμα, το WebdriverIO προσθέτει λογική επανάληψης, χρονικά όρια και τη δυνατότητα φιλτραρίσματος webviews με συγκεκριμένα κριτήρια, παρέχοντας περισσότερο έλεγχο σε πολύπλοκα σενάρια.

```ts
// Example: Customizing retry intervals and timeouts for webview detection
await driver.getContexts({
  returnDetailedContexts: true,
  androidWebviewConnectionRetryTime: 1000, // Retry every 1 second
  androidWebviewConnectTimeout: 10000,    // Timeout after 10 seconds
});
```

Αυτές οι επιλογές βοηθούν στην προσαρμογή των σεναρίων αυτοματισμού σε δυναμική συμπεριφορά εφαρμογών χωρίς επιπλέον επαναλαμβανόμενο κώδικα.

### 2. Improving Usability
Οι βελτιωμένες εντολές αφαιρούν την πολυπλοκότητα και τα επαναλαμβανόμενα μοτίβα που βρίσκονται στα εγγενή API. Σας επιτρέπουν να εκτελείτε περισσότερες ενέργειες με λιγότερες γραμμές κώδικα, μειώνοντας την καμπύλη εκμάθησης για νέους χρήστες και κάνοντας τα σενάρια ευκολότερα στην ανάγνωση και τη συντήρηση.

```ts
// Example: Enhanced command for switching context by title
await driver.switchContext({
  title: 'My Webview Title',
});
```

Σε σύγκριση με τις προεπιλεγμένες μεθόδους του Appium, οι βελτιωμένες εντολές εξαλείφουν την ανάγκη για επιπλέον βήματα όπως η χειροκίνητη ανάκτηση διαθέσιμων πλαισίων και το φιλτράρισμά τους.

### 3. Standardizing Behavior
Το WebdriverIO διασφαλίζει ότι οι βελτιωμένες εντολές συμπεριφέρονται με συνέπεια σε πλατφόρμες όπως το Android και το iOS. Αυτή η διαπλατφορμική αφαίρεση ελαχιστοποιεί την ανάγκη για συνθήκες λογικής διακλάδωσης με βάση το λειτουργικό σύστημα, οδηγώντας σε πιο συντηρήσιμα δοκιμαστικά σενάρια.

```ts
// Example: Unified scroll command for both platforms
await $('~element').scrollIntoView();
```

Αυτή η τυποποίηση απλοποιεί τις βάσεις κώδικα, ειδικά για ομάδες που αυτοματοποιούν δοκιμές σε πολλαπλές πλατφόρμες.

### 4. Increasing Reliability
Ενσωματώνοντας μηχανισμούς επανάληψης, έξυπνες προεπιλογές και λεπτομερή μηνύματα σφάλματος, οι βελτιωμένες εντολές μειώνουν την πιθανότητα ασταθών δοκιμών. Αυτές οι βελτιώσεις διασφαλίζουν ότι οι δοκιμές σας είναι ανθεκτικές σε ζητήματα όπως καθυστερήσεις στην αρχικοποίηση του webview ή παροδικές καταστάσεις εφαρμογών.

```ts
// Example: Enhanced webview switching with robust matching logic
await driver.switchContext({
  url: /.*my-app\/dashboard/,
  androidWebviewConnectionRetryTime: 500,
  androidWebviewConnectTimeout: 7000,
});
```

Αυτό καθιστά την εκτέλεση δοκιμών πιο προβλέψιμη και λιγότερο επιρρεπή σε αποτυχίες που προκαλούνται από περιβαλλοντικούς παράγοντες.

### 5. Enhancing Debugging Capabilities
Οι βελτιωμένες εντολές συχνά επιστρέφουν πλουσιότερα μεταδεδομένα, επιτρέποντας ευκολότερο εντοπισμό σφαλμάτων σε πολύπλοκα σενάρια, ιδιαίτερα σε υβριδικές εφαρμογές. Για παράδειγμα, εντολές όπως getContext και getContexts μπορούν να επιστρέψουν λεπτομερείς πληροφορίες σχετικά με τα webviews, συμπεριλαμβανομένου του τίτλου, της διεύθυνσης URL και της κατάστασης ορατότητας.

```ts
// Example: Retrieving detailed metadata for debugging
const contexts = await driver.getContexts({ returnDetailedContexts: true });
console.log(contexts);
```

Αυτά τα μεταδεδομένα βοηθούν στον εντοπισμό και την επίλυση προβλημάτων ταχύτερα, βελτιώνοντας τη συνολική εμπειρία εντοπισμού σφαλμάτων.


Βελτιώνοντας τις εντολές κινητών, το WebdriverIO όχι μόνο καθιστά τον αυτοματισμό ευκολότερο, αλλά επίσης ευθυγραμμίζεται με την αποστολή του να παρέχει στους προγραμματιστές εργαλεία που είναι ισχυρά, αξιόπιστα και διαισθητικά στη χρήση.

---

## Hybrid Apps

Οι υβριδικές εφαρμογές συνδυάζουν περιεχόμενο ιστού με εγγενή λειτουργικότητα και απαιτούν εξειδικευμένο χειρισμό κατά τον αυτοματισμό. Αυτές οι εφαρμογές χρησιμοποιούν webviews για την απόδοση περιεχομένου ιστού μέσα σε μια εγγενή εφαρμογή. Το WebdriverIO παρέχει βελτιωμένες μεθόδους για αποτελεσματική εργασία με υβριδικές εφαρμογές.

### Understanding Webviews
Ένα webview είναι ένα στοιχείο παρόμοιο με περιηγητή που ενσωματώνεται σε μια εγγενή εφαρμογή:

- **Android:** Τα Webviews βασίζονται στο Chrome/System Webview και μπορεί να περιέχουν πολλαπλές σελίδες (παρόμοιες με καρτέλες περιηγητή). Αυτά τα webviews απαιτούν ChromeDriver για αυτοματοποίηση αλληλεπιδράσεων. Το Appium μπορεί αυτόματα να προσδιορίσει την απαιτούμενη έκδοση ChromeDriver με βάση την έκδοση του System WebView ή του Chrome που είναι εγκατεστημένο στη συσκευή και να το κατεβάσει αυτόματα αν δεν είναι ήδη διαθέσιμο. Αυτή η προσέγγιση διασφαλίζει απρόσκοπτη συμβατότητα και ελαχιστοποιεί τη χειροκίνητη ρύθμιση. Ανατρέξτε στην [τεκμηρίωση Appium UIAutomator2](https://github.com/appium/appium-uiautomator2-driver?tab=readme-ov-file#automatic-discovery-of-compatible-chromedriver) για να μάθετε πώς το Appium κατεβάζει αυτόματα τη σωστή έκδοση ChromeDriver.
- **iOS:** Τα Webviews τροφοδοτούνται από το Safari (WebKit) και αναγνωρίζονται από γενικά αναγνωριστικά όπως `WEBVIEW_{id}`.

### Challenges with Hybrid Apps
1. Αναγνώριση του σωστού webview μεταξύ πολλαπλών επιλογών.
2. Ανάκτηση πρόσθετων μεταδεδομένων όπως ο τίτλος, η διεύθυνση URL ή το όνομα πακέτου για καλύτερο πλαίσιο.
3. Χειρισμός διαφορών μεταξύ πλατφορμών Android και iOS.
4. Αξιόπιστη εναλλαγή στο σωστό πλαίσιο σε μια υβριδική εφαρμογή.

### Key Commands for Hybrid Apps

#### 1. `getContext`
Ανακτά το τρέχον πλαίσιο της συνεδρίας. Εξ ορισμού, συμπεριφέρεται όπως η μέθοδος getContext του Appium αλλά μπορεί να παρέχει λεπτομερείς πληροφορίες πλαισίου όταν είναι ενεργοποιημένο το `returnDetailedContext`. Για περισσότερες πληροφορίες, δείτε [`getContext`](/docs/api/mobile/getContext)

#### 2. `getContexts`
Επιστρέφει μια λεπτομερή λίστα διαθέσιμων πλαισίων, βελτιώνοντας τη μέθοδο contexts του Appium. Αυτό διευκολύνει την αναγνώριση του σωστού webview για αλληλεπίδραση χωρίς να καλείτε επιπλέον εντολές για να προσδιορίσετε τίτλο, url ή ενεργό `bundleId|packageName`. Για περισσότερες πληροφορίες, δείτε [`getContexts`](/docs/api/mobile/getContexts)

#### 3. `switchContext`
Μεταβαίνει σε ένα συγκεκριμένο webview με βάση το όνομα, τον τίτλο ή τη διεύθυνση url. Παρέχει πρόσθετη ευελιξία, όπως τη χρήση κανονικών εκφράσεων για αντιστοίχιση. Για περισσότερες πληροφορίες, δείτε [`switchContext`](/docs/api/mobile/switchContext)

### Key Features for Hybrid Apps
1. Λεπτομερή Μεταδεδομένα: Ανάκτηση ολοκληρωμένων λεπτομερειών για εντοπισμό σφαλμάτων και αξιόπιστη εναλλαγή πλαισίου.
2. Διαπλατφορμική Συνέπεια: Ενοποιημένη συμπεριφορά για Android και iOS, χειρίζεται απρόσκοπτα τις ιδιαιτερότητες κάθε πλατφόρμας.
3. Προσαρμοσμένη Λογική Επανάληψης (Android): Προσαρμογή διαστημάτων επανάληψης και χρονικών ορίων για εντοπισμό webview.


:::info Notes and Limitations
- Το Android παρέχει πρόσθετα μεταδεδομένα, όπως `packageName` και `webviewPageId`, ενώ το iOS επικεντρώνεται στο `bundleId`.
- Η λογική επανάληψης είναι προσαρμόσιμη για το Android αλλά δεν ισχύει για το iOS.
- Υπάρχουν αρκετές περιπτώσεις που το iOS δεν μπορεί να βρει το Webview. Το Appium παρέχει διαφορετικές επιπλέον δυνατότητες για τον `appium-xcuitest-driver` για να βρει το Webview. Εάν πιστεύετε ότι το Webview δεν βρέθηκε, μπορείτε να δοκιμάσετε να ορίσετε μία από τις ακόλουθες δυνατότητες:
    - `appium:includeSafariInWebviews`: Προσθέτει πλαίσια ιστού Safari στη λίστα των διαθέσιμων πλαισίων κατά τη διάρκεια μιας δοκιμής εγγενούς/webview εφαρμογής. Αυτό είναι χρήσιμο αν η δοκιμή ανοίγει το Safari και χρειάζεται να μπορεί να αλληλεπιδράσει με αυτό. Η προεπιλογή είναι `false`.
    - `appium:webviewConnectRetries`: Ο μέγιστος αριθμός επαναλήψεων πριν παραιτηθείτε από την ανίχνευση σελίδων webview. Η καθυστέρηση μεταξύ κάθε επανάληψης είναι 500ms, η προεπιλογή είναι `10` επαναλήψεις.
    - `appium:webviewConnectTimeout`: Το μέγιστο χρονικό διάστημα σε χιλιοστά του δευτερολέπτου για αναμονή ανίχνευσης σελίδας web view. Η προεπιλογή είναι `5000` ms.

Για προχωρημένα παραδείγματα και λεπτομέρειες, δείτε την τεκμηρίωση API Mobile του WebdriverIO.
:::


---

Το αυξανόμενο σύνολο εντολών μας αντικατοπτρίζει τη δέσμευσή μας να καταστήσουμε τον αυτοματισμό κινητών προσιτό και κομψό. Είτε εκτελείτε πολύπλοκες χειρονομίες είτε εργάζεστε με εγγενή στοιχεία εφαρμογής, αυτές οι εντολές ευθυγραμμίζονται με τη φιλοσοφία του WebdriverIO για τη δημιουργία μιας απρόσκοπτης εμπειρίας αυτοματισμού. Και δεν σταματάμε εδώ—αν υπάρχει κάποια λειτουργία που θα θέλατε να δείτε, καλωσορίζουμε τα σχόλιά σας. Μη διστάσετε να υποβάλετε τα αιτήματά σας μέσω [αυτού του συνδέσμου](https://github.com/webdriverio/webdriverio/issues/new/choose).