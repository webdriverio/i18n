---
id: v6-migration
title: Από v5 σε v6
---

Αυτό το σεμινάριο είναι για άτομα που εξακολουθούν να χρησιμοποιούν την `v5` του WebdriverIO και θέλουν να μεταναστεύσουν στην `v6` ή στην πιο πρόσφατη έκδοση του WebdriverIO. Όπως αναφέρεται στην [ανάρτηση του blog για την κυκλοφορία](https://webdriver.io/blog/2020/03/26/webdriverio-v6-released), οι αλλαγές για αυτήν την αναβάθμιση έκδοσης μπορούν να συνοψιστούν ως εξής:

- ενοποιήσαμε τις παραμέτρους για ορισμένες εντολές (π.χ. `newWindow`, `react$`, `react$$`, `waitUntil`, `dragAndDrop`, `moveTo`, `waitForDisplayed`, `waitForEnabled`, `waitForExist`) και μετακινήσαμε όλες τις προαιρετικές παραμέτρους σε ένα ενιαίο αντικείμενο, π.χ.

    ```js
    // v5
    browser.newWindow(
        'https://webdriver.io',
        'WebdriverIO window',
        'width=420,height=230,resizable,scrollbars=yes,status=1'
    )
    // v6
    browser.newWindow('https://webdriver.io', {
        windowName: 'WebdriverIO window',
        windowFeature: 'width=420,height=230,resizable,scrollbars=yes,status=1'
    })
    ```

- οι ρυθμίσεις για τις υπηρεσίες μετακινήθηκαν στη λίστα υπηρεσιών, π.χ.

    ```js
    // v5
    exports.config = {
        services: ['sauce'],
        sauceConnect: true,
        sauceConnectOpts: { foo: 'bar' },
    }
    // v6
    exports.config = {
        services: [['sauce', {
            sauceConnect: true,
            sauceConnectOpts: { foo: 'bar' }
        }]],
    }
    ```

- ορισμένες επιλογές υπηρεσιών μετονομάστηκαν για λόγους απλοποίησης
- μετονομάσαμε την εντολή `launchApp` σε `launchChromeApp` για τις συνεδρίες Chrome WebDriver

:::info

Εάν χρησιμοποιείτε το WebdriverIO `v4` ή προηγούμενη έκδοση, αναβαθμίστε πρώτα στην `v5`.

:::

Ενώ θα θέλαμε να έχουμε μια πλήρως αυτοματοποιημένη διαδικασία για αυτό, η πραγματικότητα είναι διαφορετική. Ο καθένας έχει μια διαφορετική εγκατάσταση. Κάθε βήμα πρέπει να θεωρείται ως καθοδήγηση και λιγότερο ως οδηγία βήμα προς βήμα. Εάν αντιμετωπίζετε προβλήματα με τη μετάβαση, μη διστάσετε να [επικοινωνήσετε μαζί μας](https://github.com/webdriverio/codemod/discussions/new).

## Εγκατάσταση

Παρόμοια με άλλες μεταβάσεις, μπορούμε να χρησιμοποιήσουμε το WebdriverIO [codemod](https://github.com/webdriverio/codemod). Για να εγκαταστήσετε το codemod, εκτελέστε:

```sh
npm install jscodeshift @wdio/codemod
```

## Αναβάθμιση των Εξαρτήσεων του WebdriverIO

Δεδομένου ότι όλες οι εκδόσεις του WebdriverIO είναι συνδεδεμένες μεταξύ τους, είναι καλύτερο να αναβαθμίζετε πάντα σε μια συγκεκριμένη ετικέτα, π.χ. `6.12.0`. Εάν αποφασίσετε να αναβαθμίσετε από την `v5` απευθείας στην `v7`, μπορείτε να παραλείψετε την ετικέτα και να εγκαταστήσετε τις πιο πρόσφατες εκδόσεις όλων των πακέτων. Για να το κάνετε αυτό, αντιγράφουμε όλες τις σχετικές εξαρτήσεις WebdriverIO από το `package.json` και τις επανεγκαθιστούμε μέσω:

```sh
npm i --save-dev @wdio/allure-reporter@6 @wdio/cli@6 @wdio/cucumber-framework@6 @wdio/local-runner@6 @wdio/spec-reporter@6 @wdio/sync@6 wdio-chromedriver-service@6 webdriverio@6
```

Συνήθως οι εξαρτήσεις του WebdriverIO αποτελούν μέρος των εξαρτήσεων ανάπτυξης, αν και αυτό μπορεί να διαφέρει ανάλογα με το έργο σας. Μετά από αυτό, τα `package.json` και `package-lock.json` θα πρέπει να ενημερωθούν. __Σημείωση:__ αυτές είναι παραδείγματα εξαρτήσεων, οι δικές σας μπορεί να διαφέρουν. Βεβαιωθείτε ότι βρίσκετε την τελευταία έκδοση v6 καλώντας, π.χ.:

```sh
npm show webdriverio versions
```

Προσπαθήστε να εγκαταστήσετε την τελευταία διαθέσιμη έκδοση 6 για όλα τα βασικά πακέτα WebdriverIO. Για τα πακέτα της κοινότητας αυτό μπορεί να διαφέρει από πακέτο σε πακέτο. Εδώ συνιστούμε να ελέγξετε το changelog για πληροφορίες σχετικά με το ποια έκδοση είναι ακόμα συμβατή με την v6.

## Μετατροπή Αρχείου Διαμόρφωσης

Ένα καλό πρώτο βήμα είναι να ξεκινήσετε με το αρχείο διαμόρφωσης. Όλες οι αλλαγές που προκαλούν προβλήματα μπορούν να επιλυθούν αυτόματα χρησιμοποιώντας το codemod:

```sh
npx jscodeshift -t ./node_modules/@wdio/codemod/v6 ./wdio.conf.js
```

:::caution

Το codemod δεν υποστηρίζει ακόμη έργα TypeScript. Δείτε το [`@webdriverio/codemod#10`](https://github.com/webdriverio/codemod/issues/10). Εργαζόμαστε για την υλοποίηση της υποστήριξης σύντομα. Εάν χρησιμοποιείτε TypeScript, παρακαλούμε συμμετέχετε!

:::

## Ενημέρωση Αρχείων Προδιαγραφών και Αντικειμένων Σελίδων

Για να ενημερώσετε όλες τις αλλαγές εντολών, εκτελέστε το codemod σε όλα τα αρχεία e2e που περιέχουν εντολές WebdriverIO, π.χ.:

```sh
npx jscodeshift -t ./node_modules/@wdio/codemod/v6 ./e2e/*
```

Αυτό είναι όλο! Δεν χρειάζονται άλλες αλλαγές 🎉

## Συμπέρασμα

Ελπίζουμε ότι αυτό το σεμινάριο σας καθοδηγεί λίγο στη διαδικασία μετάβασης στο WebdriverIO `v6`. Συνιστούμε έντονα να συνεχίσετε την αναβάθμιση στην τελευταία έκδοση, δεδομένου ότι η ενημέρωση στην `v7` είναι απλή λόγω σχεδόν καμίας αλλαγής που προκαλεί προβλήματα. Παρακαλούμε ελέγξτε τον οδηγό μετάβασης [για αναβάθμιση στην v7](v7-migration).

Η κοινότητα συνεχίζει να βελτιώνει το codemod δοκιμάζοντάς το με διάφορες ομάδες σε διάφορους οργανισμούς. Μη διστάσετε να [δημιουργήσετε ένα ζήτημα](https://github.com/webdriverio/codemod/issues/new) εάν έχετε σχόλια ή [να ξεκινήσετε μια συζήτηση](https://github.com/webdriverio/codemod/discussions/new) εάν αντιμετωπίζετε προβλήματα κατά τη διαδικασία μετάβασης.