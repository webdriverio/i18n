---
id: snapshot
title: Στιγμιότυπο
---

Οι δοκιμές στιγμιότυπων μπορούν να είναι πολύ χρήσιμες για την επιβεβαίωση ενός ευρέως φάσματος πτυχών του στοιχείου ή της λογικής σας ταυτόχρονα. Στο WebdriverIO μπορείτε να λάβετε στιγμιότυπα οποιουδήποτε αυθαίρετου αντικειμένου καθώς και της δομής DOM ενός WebElement ή των αποτελεσμάτων εντολής WebdriverIO.

Παρόμοια με άλλα πλαίσια δοκιμών, το WebdriverIO θα λάβει ένα στιγμιότυπο της δοσμένης τιμής, και στη συνέχεια θα το συγκρίνει με ένα αρχείο στιγμιότυπου αναφοράς που αποθηκεύεται μαζί με τη δοκιμή. Η δοκιμή θα αποτύχει αν τα δύο στιγμιότυπα δεν ταιριάζουν: είτε η αλλαγή είναι απροσδόκητη, είτε το στιγμιότυπο αναφοράς πρέπει να ενημερωθεί στη νέα έκδοση του αποτελέσματος.

:::info Υποστήριξη Πολλαπλών Πλατφορμών

Αυτές οι δυνατότητες στιγμιότυπων είναι διαθέσιμες για την εκτέλεση δοκιμών end-to-end στο περιβάλλον Node.js καθώς και για την εκτέλεση [unit and component](/docs/component-testing) δοκιμών στον περιηγητή ή σε κινητές συσκευές.

:::

## Χρήση Στιγμιότυπων
Για να κάνετε στιγμιότυπο μιας τιμής, μπορείτε να χρησιμοποιήσετε το `toMatchSnapshot()` από το API [`expect()`](/docs/api/expect-webdriverio):

```ts
import { browser, expect } from '@wdio/globals'

it('can take a DOM snapshot', () => {
    await browser.url('https://guinea-pig.webdriver.io/')
    await expect($('.findme')).toMatchSnapshot()
})
```

Την πρώτη φορά που εκτελείται αυτή η δοκιμή, το WebdriverIO δημιουργεί ένα αρχείο στιγμιότυπου που μοιάζει με αυτό:

```js
// Snapshot v1

exports[`main suite 1 > can take a DOM snapshot 1`] = `"<h1 class="findme">Test CSS Attributes</h1>"`;
```

Το τεχνούργημα στιγμιότυπου θα πρέπει να καταχωρηθεί μαζί με τις αλλαγές κώδικα και να αναθεωρηθεί ως μέρος της διαδικασίας αναθεώρησης κώδικα. Σε επόμενες εκτελέσεις δοκιμών, το WebdriverIO θα συγκρίνει το αποδοθέν αποτέλεσμα με το προηγούμενο στιγμιότυπο. Αν ταιριάζουν, η δοκιμή θα περάσει. Αν δεν ταιριάζουν, είτε ο εκτελεστής δοκιμών βρήκε ένα σφάλμα στον κώδικά σας που πρέπει να διορθωθεί, είτε η υλοποίηση έχει αλλάξει και το στιγμιότυπο πρέπει να ενημερωθεί.

Για να ενημερώσετε το στιγμιότυπο, περάστε τη σημαία `-s` (ή `--updateSnapshot`) στην εντολή `wdio`, π.χ.:

```sh
npx wdio run wdio.conf.js -s
```

__Σημείωση:__ αν εκτελείτε δοκιμές με πολλαπλούς περιηγητές παράλληλα, δημιουργείται και συγκρίνεται μόνο ένα στιγμιότυπο. Αν θέλετε να έχετε ξεχωριστό στιγμιότυπο ανά δυνατότητα, παρακαλούμε [δημιουργήστε ένα ζήτημα](https://github.com/webdriverio/webdriverio/issues/new?assignees=&labels=Idea+%F0%9F%92%A1%2CNeeds+Triaging+%E2%8F%B3&projects=&template=feature-request.yml&title=%5B%F0%9F%92%A1+Feature%5D%3A+%3Ctitle%3E) και ενημερώστε μας για την περίπτωση χρήσης σας.

## Ενσωματωμένα Στιγμιότυπα

Παρομοίως, μπορείτε να χρησιμοποιήσετε το `toMatchInlineSnapshot()` για να αποθηκεύσετε το στιγμιότυπο ενσωματωμένο μέσα στο αρχείο δοκιμής.

```ts
import { expect, $ } from '@wdio/globals'

it('can take inline DOM snapshots', () => {
  const elem = $('.container')
  await expect(elem.getCSSProperty()).toMatchInlineSnapshot()
})
```

Αντί να δημιουργήσει ένα αρχείο στιγμιότυπου, το Vitest θα τροποποιήσει απευθείας το αρχείο δοκιμής για να ενημερώσει το στιγμιότυπο ως συμβολοσειρά:

```ts
import { expect, $ } from '@wdio/globals'

it('can take inline DOM snapshots', () => {
    const elem = $('.container')
    await expect(elem.getCSSProperty()).toMatchInlineSnapshot(`
        {
            "parsed": {
                "alpha": 0,
                "hex": "#000000",
                "rgba": "rgba(0,0,0,0)",
                "type": "color",
            },
            "property": "background-color",
            "value": "rgba(0,0,0,0)",
        }
    `)
})
```

Αυτό σας επιτρέπει να βλέπετε το αναμενόμενο αποτέλεσμα απευθείας χωρίς να μεταπηδάτε μεταξύ διαφορετικών αρχείων.

## Οπτικά Στιγμιότυπα

Η λήψη ενός στιγμιότυπου DOM ενός στοιχείου μπορεί να μην είναι η καλύτερη ιδέα, ειδικά αν η δομή DOM είναι πολύ μεγάλη και περιέχει δυναμικές ιδιότητες στοιχείου. Σε αυτές τις περιπτώσεις, συνιστάται να βασίζεστε σε οπτικά στιγμιότυπα για τα στοιχεία.

Για να ενεργοποιήσετε τα οπτικά στιγμιότυπα, προσθέστε το `@wdio/visual-service` στη ρύθμισή σας. Μπορείτε να ακολουθήσετε τις οδηγίες ρύθμισης στην [τεκμηρίωση](/docs/visual-testing#installation) για Οπτικές Δοκιμές.

Στη συνέχεια, μπορείτε να λάβετε ένα οπτικό στιγμιότυπο μέσω του `toMatchElementSnapshot()`, π.χ.:

```ts
import { expect, $ } from '@wdio/globals'

it('can take inline DOM snapshots', () => {
  const elem = $('.container')
  await expect(elem.getCSSProperty()).toMatchInlineSnapshot()
})
```

Μια εικόνα αποθηκεύεται στον κατάλογο αναφοράς. Ελέγξτε το [Visual Testing](/docs/visual-testing) για περισσότερες πληροφορίες.