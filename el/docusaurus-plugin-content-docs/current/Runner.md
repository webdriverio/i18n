---
id: runner
title: Δρομέας
---

import CodeBlock from '@theme/CodeBlock';

Ένας δρομέας στο WebdriverIO ενορχηστρώνει πώς και πού εκτελούνται οι δοκιμές όταν χρησιμοποιείται ο testrunner. Το WebdriverIO υποστηρίζει επί του παρόντος δύο διαφορετικούς τύπους δρομέων: τοπικό και δρομέα φυλλομετρητή.

## Τοπικός Δρομέας

Ο [Τοπικός Δρομέας](https://www.npmjs.com/package/@wdio/local-runner) ξεκινά το πλαίσιό σας (π.χ. Mocha, Jasmine ή Cucumber) εντός μιας διεργασίας εργάτη και εκτελεί όλα τα αρχεία δοκιμών σας εντός του περιβάλλοντος Node.js. Κάθε αρχείο δοκιμής εκτελείται σε μια ξεχωριστή διεργασία εργάτη ανά δυνατότητα, επιτρέποντας μέγιστο παραλληλισμό. Κάθε διεργασία εργάτη χρησιμοποιεί μια μοναδική περίπτωση φυλλομετρητή και επομένως εκτελεί τη δική της συνεδρία φυλλομετρητή, επιτρέποντας μέγιστη απομόνωση.

Δεδομένου ότι κάθε δοκιμή εκτελείται στη δική της απομονωμένη διεργασία, δεν είναι δυνατό να μοιραστούν δεδομένα μεταξύ αρχείων δοκιμών. Υπάρχουν δύο τρόποι για να παρακάμψετε αυτό:

- χρησιμοποιήστε το [`@wdio/shared-store-service`](https://www.npmjs.com/package/@wdio/shared-store-service) για να μοιραστείτε δεδομένα μεταξύ όλων των εργατών
- ομαδοποιήστε αρχεία προδιαγραφών (διαβάστε περισσότερα στο [Οργάνωση Σουίτας Δοκιμών](https://webdriver.io/docs/organizingsuites#grouping-test-specs-to-run-sequentially))

Αν δεν οριστεί κάτι άλλο στο `wdio.conf.js`, ο Τοπικός Δρομέας είναι ο προεπιλεγμένος δρομέας στο WebdriverIO.

### Εγκατάσταση

Για να χρησιμοποιήσετε τον Τοπικό Δρομέα μπορείτε να τον εγκαταστήσετε μέσω:

```sh
npm install --save-dev @wdio/local-runner
```

### Ρύθμιση

Ο Τοπικός Δρομέας είναι ο προεπιλεγμένος δρομέας στο WebdriverIO, οπότε δεν υπάρχει ανάγκη να τον ορίσετε μέσα στο `wdio.conf.js`. Αν θέλετε να τον ορίσετε ρητά, μπορείτε να το κάνετε ως εξής:

```js
// wdio.conf.js
export const {
    // ...
    runner: 'local',
    // ...
}
```

## Δρομέας Φυλλομετρητή

Σε αντίθεση με τον [Τοπικό Δρομέα](https://www.npmjs.com/package/@wdio/local-runner), ο [Δρομέας Φυλλομετρητή](https://www.npmjs.com/package/@wdio/browser-runner) ξεκινά και εκτελεί το πλαίσιο μέσα στον φυλλομετρητή. Αυτό σας επιτρέπει να εκτελείτε δοκιμές μονάδας ή δοκιμές συστατικών σε έναν πραγματικό φυλλομετρητή αντί σε ένα JSDOM όπως πολλά άλλα πλαίσια δοκιμών.

Ενώ το [JSDOM](https://www.npmjs.com/package/jsdom) χρησιμοποιείται ευρέως για σκοπούς δοκιμών, στο τέλος δεν είναι ένας πραγματικός φυλλομετρητής ούτε μπορείτε να προσομοιώσετε περιβάλλοντα κινητών με αυτό. Με αυτόν τον δρομέα, το WebdriverIO σας επιτρέπει να εκτελείτε εύκολα τις δοκιμές σας στον φυλλομετρητή και να χρησιμοποιείτε εντολές WebDriver για να αλληλεπιδράσετε με στοιχεία που εμφανίζονται στη σελίδα.

Ακολουθεί μια επισκόπηση της εκτέλεσης δοκιμών μέσα στο JSDOM έναντι του Δρομέα Φυλλομετρητή του WebdriverIO

| | JSDOM | Δρομέας Φυλλομετρητή WebdriverIO |
|-|-------|----------------------------|
|1.| Εκτελεί τις δοκιμές σας μέσα στο Node.js χρησιμοποιώντας μια επανεφαρμογή των προτύπων ιστού, κυρίως τα πρότυπα WHATWG DOM και HTML | Εκτελεί τη δοκιμή σας σε έναν πραγματικό φυλλομετρητή και εκτελεί τον κώδικα σε ένα περιβάλλον που χρησιμοποιούν οι χρήστες σας |
|2.| Οι αλληλεπιδράσεις με συστατικά μπορούν μόνο να μιμηθούν μέσω JavaScript | Μπορείτε να χρησιμοποιήσετε το [WebdriverIO API](api) για να αλληλεπιδράσετε με στοιχεία μέσω του πρωτοκόλλου WebDriver |
|3.| Η υποστήριξη Canvas απαιτεί [πρόσθετες εξαρτήσεις](https://www.npmjs.com/package/canvas) και [έχει περιορισμούς](https://github.com/Automattic/node-canvas/issues) | Έχετε πρόσβαση στο πραγματικό [Canvas API](https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API) |
|4.| Το JSDOM έχει κάποιες [επιφυλάξεις](https://github.com/jsdom/jsdom#caveats) και μη υποστηριζόμενα Web API | Όλα τα Web API υποστηρίζονται καθώς οι δοκιμές εκτελούνται σε έναν πραγματικό φυλλομετρητή |
|5.| Αδύνατο να εντοπιστούν σφάλματα μεταξύ φυλλομετρητών | Υποστήριξη για όλους τους φυλλομετρητές συμπεριλαμβανομένων των φυλλομετρητών κινητών |
|6.| __Δεν__ μπορεί να δοκιμάσει για ψευδοκαταστάσεις στοιχείων | Υποστήριξη για ψευδοκαταστάσεις όπως `:hover` ή `:active` |

Αυτός ο δρομέας χρησιμοποιεί το [Vite](https://vitejs.dev/) για να μεταγλωττίσει τον κώδικα δοκιμών σας και να τον φορτώσει στον φυλλομετρητή. Έρχεται με προεπιλογές για τα ακόλουθα πλαίσια συστατικών:

- React
- Preact
- Vue.js
- Svelte
- SolidJS
- Stencil

Κάθε αρχείο δοκιμής / ομάδα αρχείων δοκιμής εκτελείται μέσα σε μια μεμονωμένη σελίδα, που σημαίνει ότι μεταξύ κάθε δοκιμής η σελίδα επαναφορτώνεται για να εξασφαλιστεί η απομόνωση μεταξύ των δοκιμών.

### Εγκατάσταση

Για να χρησιμοποιήσετε τον Δρομέα Φυλλομετρητή μπορείτε να τον εγκαταστήσετε μέσω:

```sh
npm install --save-dev @wdio/browser-runner
```

### Ρύθμιση

Για να χρησιμοποιήσετε τον Δρομέα Φυλλομετρητή, πρέπει να ορίσετε μια ιδιότητα `runner` μέσα στο αρχείο `wdio.conf.js`, π.χ.:

```js
// wdio.conf.js
export const {
    // ...
    runner: 'browser',
    // ...
}
```

### Επιλογές Δρομέα

Ο Δρομέας Φυλλομετρητή επιτρέπει τις ακόλουθες ρυθμίσεις:

#### `preset`

Εάν δοκιμάζετε συστατικά χρησιμοποιώντας ένα από τα προαναφερθέντα πλαίσια, μπορείτε να ορίσετε μια προεπιλογή που εξασφαλίζει ότι όλα είναι ρυθμισμένα από την αρχή. Αυτή η επιλογή δεν μπορεί να χρησιμοποιηθεί μαζί με το `viteConfig`.

__Τύπος:__ `vue` | `svelte` | `solid` | `react` | `preact` | `stencil`<br />
__Παράδειγμα:__

```js title="wdio.conf.js"
export const {
    // ...
    runner: ['browser', {
        preset: 'svelte'
    }],
    // ...
}
```

#### `viteConfig`

Ορίστε τη δική σας [διαμόρφωση Vite](https://vitejs.dev/config/). Μπορείτε είτε να περάσετε ένα προσαρμοσμένο αντικείμενο είτε να εισαγάγετε ένα υπάρχον αρχείο `vite.conf.ts` αν χρησιμοποιείτε το Vite.js για ανάπτυξη. Σημειώστε ότι το WebdriverIO διατηρεί προσαρμοσμένες διαμορφώσεις Vite για να ρυθμίσει το περιβάλλον δοκιμών.

__Τύπος:__ `string` ή [`UserConfig`](https://github.com/vitejs/vite/blob/52e64eb43287d241f3fd547c332e16bd9e301e95/packages/vite/src/node/config.ts#L119-L272) ή `(env: ConfigEnv) => UserConfig | Promise<UserConfig>`<br />
__Παράδειγμα:__

```js title="wdio.conf.ts"
import viteConfig from '../vite.config.ts'

export const {
    // ...
    runner: ['browser', { viteConfig }],
    // ή απλά:
    runner: ['browser', { viteConfig: '../vites.config.ts' }],
    // ή χρησιμοποιήστε μια συνάρτηση αν η διαμόρφωση vite περιέχει πολλά πρόσθετα
    // που θέλετε να επιλύσετε μόνο όταν διαβάζεται η τιμή
    runner: ['browser', {
        viteConfig: () => ({
            // ...
        })
    }],
    // ...
}
```

#### `headless`

Εάν οριστεί σε `true`, ο δρομέας θα ενημερώσει τις δυνατότητες για να εκτελέσει δοκιμές χωρίς κεφαλή. Από προεπιλογή, αυτό ενεργοποιείται σε περιβάλλοντα CI όπου μια μεταβλητή περιβάλλοντος `CI` έχει οριστεί σε `'1'` ή `'true'`.

__Τύπος:__ `boolean`<br />
__Προεπιλογή:__ `false`, ορίζεται σε `true` αν η μεταβλητή περιβάλλοντος `CI` έχει οριστεί

#### `rootDir`

Ριζικός κατάλογος του έργου.

__Τύπος:__ `string`<br />
__Προεπιλογή:__ `process.cwd()`

#### `coverage`

Το WebdriverIO υποστηρίζει αναφορές κάλυψης δοκιμών μέσω του [`istanbul`](https://istanbul.js.org/). Δείτε [Επιλογές Κάλυψης](#coverage-options) για περισσότερες λεπτομέρειες.

__Τύπος:__ `object`<br />
__Προεπιλογή:__ `undefined`

### Επιλογές Κάλυψης

Οι ακόλουθες επιλογές επιτρέπουν τη διαμόρφωση αναφορών κάλυψης.

#### `enabled`

Ενεργοποιεί τη συλλογή κάλυψης.

__Τύπος:__ `boolean`<br />
__Προεπιλογή:__ `false`

#### `include`

Λίστα αρχείων που περιλαμβάνονται στην κάλυψη ως μοτίβα glob.

__Τύπος:__ `string[]`<br />
__Προεπιλογή:__ `[**]`

#### `exclude`

Λίστα αρχείων που εξαιρούνται από την κάλυψη ως μοτίβα glob.

__Τύπος:__ `string[]`<br />
__Προεπιλογή:__

```
[
  'coverage/**',
  'dist/**',
  'packages/*/test{,s}/**',
  '**/*.d.ts',
  'cypress/**',
  'test{,s}/**',
  'test{,-*}.{js,cjs,mjs,ts,tsx,jsx}',
  '**/*{.,-}test.{js,cjs,mjs,ts,tsx,jsx}',
  '**/*{.,-}spec.{js,cjs,mjs,ts,tsx,jsx}',
  '**/__tests__/**',
  '**/{karma,rollup,webpack,vite,vitest,jest,ava,babel,nyc,cypress,tsup,build}.config.*',
  '**/.{eslint,mocha,prettier}rc.{js,cjs,yml}',
]
```

#### `extension`

Λίστα επεκτάσεων αρχείων που πρέπει να περιλαμβάνει η αναφορά.

__Τύπος:__ `string | string[]`<br />
__Προεπιλογή:__ `['.js', '.cjs', '.mjs', '.ts', '.mts', '.cts', '.tsx', '.jsx', '.vue', '.svelte']`

#### `reportsDirectory`

Κατάλογος για την εγγραφή της αναφοράς κάλυψης.

__Τύπος:__ `string`<br />
__Προεπιλογή:__ `./coverage`

#### `reporter`

Αναφορείς κάλυψης που θα χρησιμοποιηθούν. Δείτε την [τεκμηρίωση του istanbul](https://istanbul.js.org/docs/advanced/alternative-reporters/) για λεπτομερή κατάλογο όλων των αναφορέων.

__Τύπος:__ `string[]`<br />
__Προεπιλογή:__ `['text', 'html', 'clover', 'json-summary']`

#### `perFile`

Έλεγχος ορίων ανά αρχείο. Δείτε `lines`, `functions`, `branches` και `statements` για τα πραγματικά όρια.

__Τύπος:__ `boolean`<br />
__Προεπιλογή:__ `false`

#### `clean`

Καθαρισμός αποτελεσμάτων κάλυψης πριν την εκτέλεση δοκιμών.

__Τύπος:__ `boolean`<br />
__Προεπιλογή:__ `true`

#### `lines`

Όριο για γραμμές.

__Τύπος:__ `number`<br />
__Προεπιλογή:__ `undefined`

#### `functions`

Όριο για συναρτήσεις.

__Τύπος:__ `number`<br />
__Προεπιλογή:__ `undefined`

#### `branches`

Όριο για κλάδους.

__Τύπος:__ `number`<br />
__Προεπιλογή:__ `undefined`

#### `statements`

Όριο για δηλώσεις.

__Τύπος:__ `number`<br />
__Προεπιλογή:__ `undefined`

### Περιορισμοί

Όταν χρησιμοποιείτε τον δρομέα φυλλομετρητή WebdriverIO, είναι σημαντικό να σημειωθεί ότι διάλογοι που μπλοκάρουν το νήμα όπως `alert` ή `confirm` δεν μπορούν να χρησιμοποιηθούν εγγενώς. Αυτό συμβαίνει επειδή μπλοκάρουν την ιστοσελίδα, που σημαίνει ότι το WebdriverIO δεν μπορεί να συνεχίσει να επικοινωνεί με τη σελίδα, προκαλώντας το κόλλημα της εκτέλεσης.

Σε τέτοιες καταστάσεις, το WebdriverIO παρέχει προεπιλεγμένα πλαστά αντικείμενα με προεπιλεγμένες επιστρεφόμενες τιμές για αυτά τα API. Αυτό εξασφαλίζει ότι αν ο χρήστης χρησιμοποιήσει κατά λάθος συγχρονισμένα αναδυόμενα API ιστού, η εκτέλεση δεν θα κολλήσει. Ωστόσο, εξακολουθεί να συνιστάται ο χρήστης να δημιουργεί πλαστά αντίγραφα αυτών των API ιστού για καλύτερη εμπειρία. Διαβάστε περισσότερα στο [Mocking](/docs/component-testing/mocking).

### Παραδείγματα

Βεβαιωθείτε ότι έχετε ελέγξει τα έγγραφα γύρω από τη [δοκιμή συστατικών](https://webdriver.io/docs/component-testing) και ρίξτε μια ματιά στο [αποθετήριο παραδειγμάτων](https://github.com/webdriverio/component-testing-examples) για παραδείγματα χρήσης αυτών και διαφόρων άλλων πλαισίων.